{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"source/CNAME","path":"CNAME","modified":1,"renderable":0},{"_id":"source/favicon.ico","path":"favicon.ico","modified":1,"renderable":0},{"_id":"themes/yilia/source/css/style.styl","path":"css/style.styl","modified":1,"renderable":1},{"_id":"themes/yilia/source/js/instagram.js","path":"js/instagram.js","modified":1,"renderable":1},{"_id":"themes/yilia/source/js/jquery.lazyload.js","path":"js/jquery.lazyload.js","modified":1,"renderable":1},{"_id":"themes/yilia/source/js/main.js","path":"js/main.js","modified":1,"renderable":1},{"_id":"themes/yilia/source/js/mobile.js","path":"js/mobile.js","modified":1,"renderable":1},{"_id":"themes/yilia/source/js/pc.js","path":"js/pc.js","modified":1,"renderable":1},{"_id":"themes/yilia/source/js/photo.js","path":"js/photo.js","modified":1,"renderable":1},{"_id":"themes/yilia/source/fancybox/blank.gif","path":"fancybox/blank.gif","modified":1,"renderable":1},{"_id":"themes/yilia/source/fancybox/fancybox_loading.gif","path":"fancybox/fancybox_loading.gif","modified":1,"renderable":1},{"_id":"themes/yilia/source/fancybox/fancybox_loading@2x.gif","path":"fancybox/fancybox_loading@2x.gif","modified":1,"renderable":1},{"_id":"themes/yilia/source/fancybox/fancybox_overlay.png","path":"fancybox/fancybox_overlay.png","modified":1,"renderable":1},{"_id":"themes/yilia/source/fancybox/fancybox_sprite@2x.png","path":"fancybox/fancybox_sprite@2x.png","modified":1,"renderable":1},{"_id":"themes/yilia/source/fancybox/fancybox_sprite.png","path":"fancybox/fancybox_sprite.png","modified":1,"renderable":1},{"_id":"themes/yilia/source/fancybox/jquery.fancybox.css","path":"fancybox/jquery.fancybox.css","modified":1,"renderable":1},{"_id":"themes/yilia/source/fancybox/jquery.fancybox.js","path":"fancybox/jquery.fancybox.js","modified":1,"renderable":1},{"_id":"themes/yilia/source/img/delicious.png","path":"img/delicious.png","modified":1,"renderable":1},{"_id":"themes/yilia/source/fancybox/jquery.fancybox.pack.js","path":"fancybox/jquery.fancybox.pack.js","modified":1,"renderable":1},{"_id":"themes/yilia/source/img/coderwall.png","path":"img/coderwall.png","modified":1,"renderable":1},{"_id":"themes/yilia/source/img/douban.png","path":"img/douban.png","modified":1,"renderable":1},{"_id":"themes/yilia/source/img/facebook.png","path":"img/facebook.png","modified":1,"renderable":1},{"_id":"themes/yilia/source/img/google.png","path":"img/google.png","modified":1,"renderable":1},{"_id":"themes/yilia/source/img/img-err.png","path":"img/img-err.png","modified":1,"renderable":1},{"_id":"themes/yilia/source/img/img-loading.png","path":"img/img-loading.png","modified":1,"renderable":1},{"_id":"themes/yilia/source/img/github.png","path":"img/github.png","modified":1,"renderable":1},{"_id":"themes/yilia/source/img/mail.png","path":"img/mail.png","modified":1,"renderable":1},{"_id":"themes/yilia/source/img/linkedin.png","path":"img/linkedin.png","modified":1,"renderable":1},{"_id":"themes/yilia/source/img/pinterest.png","path":"img/pinterest.png","modified":1,"renderable":1},{"_id":"themes/yilia/source/img/pinboard.png","path":"img/pinboard.png","modified":1,"renderable":1},{"_id":"themes/yilia/source/img/scrollbar_arrow.png","path":"img/scrollbar_arrow.png","modified":1,"renderable":1},{"_id":"themes/yilia/source/img/stackoverflow.png","path":"img/stackoverflow.png","modified":1,"renderable":1},{"_id":"themes/yilia/source/img/rss.png","path":"img/rss.png","modified":1,"renderable":1},{"_id":"themes/yilia/source/img/twitter.png","path":"img/twitter.png","modified":1,"renderable":1},{"_id":"themes/yilia/source/img/weibo.png","path":"img/weibo.png","modified":1,"renderable":1},{"_id":"themes/yilia/source/img/zhihu.png","path":"img/zhihu.png","modified":1,"renderable":1},{"_id":"themes/yilia/source/css/fonts/fontawesome-webfont.eot","path":"css/fonts/fontawesome-webfont.eot","modified":1,"renderable":1},{"_id":"themes/yilia/source/css/fonts/fontawesome-webfont.ttf","path":"css/fonts/fontawesome-webfont.ttf","modified":1,"renderable":1},{"_id":"themes/yilia/source/css/fonts/fontawesome-webfont.svgz","path":"css/fonts/fontawesome-webfont.svgz","modified":1,"renderable":1},{"_id":"themes/yilia/source/css/fonts/fontawesome-webfont.woff","path":"css/fonts/fontawesome-webfont.woff","modified":1,"renderable":1},{"_id":"themes/yilia/source/fancybox/helpers/fancybox_buttons.png","path":"fancybox/helpers/fancybox_buttons.png","modified":1,"renderable":1},{"_id":"themes/yilia/source/fancybox/helpers/jquery.fancybox-buttons.css","path":"fancybox/helpers/jquery.fancybox-buttons.css","modified":1,"renderable":1},{"_id":"themes/yilia/source/fancybox/helpers/jquery.fancybox-buttons.js","path":"fancybox/helpers/jquery.fancybox-buttons.js","modified":1,"renderable":1},{"_id":"themes/yilia/source/fancybox/helpers/jquery.fancybox-media.js","path":"fancybox/helpers/jquery.fancybox-media.js","modified":1,"renderable":1},{"_id":"themes/yilia/source/fancybox/helpers/jquery.fancybox-thumbs.css","path":"fancybox/helpers/jquery.fancybox-thumbs.css","modified":1,"renderable":1},{"_id":"themes/yilia/source/fancybox/helpers/jquery.fancybox-thumbs.js","path":"fancybox/helpers/jquery.fancybox-thumbs.js","modified":1,"renderable":1},{"_id":"themes/yilia/source/css/fonts/fontawesome-webfont.svg","path":"css/fonts/fontawesome-webfont.svg","modified":1,"renderable":1}],"Cache":[{"_id":"source/.DS_Store","hash":"6d88eb60eb3e46510895ec0c56f3fbcb1c60eca8","modified":1460118033000},{"_id":"source/CNAME","hash":"47d6f9903530db0b7708888543039280599c80a6","modified":1459279256000},{"_id":"source/404.html","hash":"570493273afcdca3d64b355ff263fcf06fa84bd3","modified":1459416751000},{"_id":"themes/yilia/README.md","hash":"8648a81b3ae08a4accd6b0541533e662511e6400","modified":1459914369000},{"_id":"themes/yilia/_config.yml","hash":"4f577bf4564f6d80c5b415139cebefb655910c7e","modified":1460118014000},{"_id":"source/favicon.ico","hash":"f99c4f53cd5d9d4322b9cc09280ac60ea54789ff","modified":1459669469000},{"_id":"themes/yilia/.gitignore","hash":"7d65523f2a5afb69d76824dd1dfa62a34faa3197","modified":1459914369000},{"_id":"themes/yilia/package.json","hash":"00357ef6f24eb049074da81809e98f973f528cca","modified":1459914369000},{"_id":"source/_posts/.DS_Store","hash":"df2fbeb1400acda0909a32c1cf6bf492f1121e07","modified":1459996436000},{"_id":"source/_posts/20160331-博客搭建.md","hash":"760160aa8ab164ac9650cf96474e2aff11de4e69","modified":1460118688000},{"_id":"source/_posts/20160408-slideMenu和UIScrollView手势冲突.md","hash":"fd6f974c2aa761deb54f34af3d187a2532474e27","modified":1460117919000},{"_id":"source/_posts/20160409-ios录制视频调研.md","hash":"aea64f3bca89570786a99e6d212a9ca5bccbb4a7","modified":1460683527000},{"_id":"source/about/index.md","hash":"f7095b0c10291dd597da24c58bc4a9db78d7e2de","modified":1459997010000},{"_id":"source/photo/.DS_Store","hash":"df2fbeb1400acda0909a32c1cf6bf492f1121e07","modified":1460000686000},{"_id":"source/photo/index.md","hash":"8585ad452d95fabc46be35f38a72edaad357023a","modified":1459998829000},{"_id":"source/photo/output.json","hash":"f00221eb602684720c7e45aa48cc824854bd70a7","modified":1460101523000},{"_id":"themes/yilia/.git/config","hash":"256e47c5a4386e6881318e44d2a716fdc3197863","modified":1459914369000},{"_id":"themes/yilia/.git/HEAD","hash":"acbaef275e46a7f14c1ef456fff2c8bbe8c84724","modified":1459914369000},{"_id":"themes/yilia/.git/description","hash":"9635f1b7e12c045212819dd934d809ef07efa2f4","modified":1459914350000},{"_id":"themes/yilia/.git/index","hash":"c3c08ea5e3a6d21a6d4c29bcee639b89e075cebf","modified":1460031308000},{"_id":"themes/yilia/.git/packed-refs","hash":"102a8556f68dca2b07b7ef5c523080d0dcbbe257","modified":1459914369000},{"_id":"themes/yilia/languages/de.yml","hash":"ecb13af8af81ccc033ae7494cb2f94f84f6466ad","modified":1459914369000},{"_id":"themes/yilia/languages/default.yml","hash":"9e59cd11b290be84909612beb12d0f93ce737f53","modified":1459914369000},{"_id":"themes/yilia/languages/en.yml","hash":"8fa0a7482188ca56fd3cf19c4a87320f85a76846","modified":1459914369000},{"_id":"themes/yilia/languages/fr-FR.yml","hash":"12cfa96dc412ecb6f8bf4de2690575929464906e","modified":1459914369000},{"_id":"themes/yilia/languages/ru.yml","hash":"9997425292031ee8a58a93346ac6d3f38f18e566","modified":1459914369000},{"_id":"themes/yilia/languages/zh-Hans.yml","hash":"0d7e8da60fd5e5db217e1733ac273ae00fd752ea","modified":1459914369000},{"_id":"themes/yilia/languages/zh-hk.yml","hash":"606dfb34d3fec1d7895a654ff7a5a1de0c6a5c55","modified":1459914369000},{"_id":"themes/yilia/layout/category.ejs","hash":"765426a9c8236828dc34759e604cc2c52292835a","modified":1459914369000},{"_id":"themes/yilia/layout/archive.ejs","hash":"2703b07cc8ac64ae46d1d263f4653013c7e1666b","modified":1459914369000},{"_id":"themes/yilia/layout/index.ejs","hash":"aa1b4456907bdb43e629be3931547e2d29ac58c8","modified":1459914369000},{"_id":"themes/yilia/languages/zh-tw.yml","hash":"9e4034870b57d2bb3063c91f8d206a6c4d7b3789","modified":1459914369000},{"_id":"themes/yilia/layout/layout.ejs","hash":"4a5566f704f3246f5ef77badddf18d2e16750328","modified":1459914369000},{"_id":"themes/yilia/layout/tag.ejs","hash":"eaa7b4ccb2ca7befb90142e4e68995fb1ea68b2e","modified":1459914369000},{"_id":"themes/yilia/layout/post.ejs","hash":"7d80e4e36b14d30a7cd2ac1f61376d9ebf264e8b","modified":1459914369000},{"_id":"themes/yilia/layout/page.ejs","hash":"7d80e4e36b14d30a7cd2ac1f61376d9ebf264e8b","modified":1459914369000},{"_id":"themes/yilia/.git/hooks/commit-msg.sample","hash":"ee1ed5aad98a435f2020b6de35c173b75d9affac","modified":1459914350000},{"_id":"themes/yilia/.git/hooks/post-update.sample","hash":"b614c2f63da7dca9f1db2e7ade61ef30448fc96c","modified":1459914350000},{"_id":"themes/yilia/.git/hooks/pre-applypatch.sample","hash":"f208287c1a92525de9f5462e905a9d31de1e2d75","modified":1459914350000},{"_id":"themes/yilia/.git/hooks/pre-commit.sample","hash":"36aed8976dcc08b5076844f0ec645b18bc37758f","modified":1459914350000},{"_id":"themes/yilia/.git/hooks/pre-push.sample","hash":"5c8518bfd1d1d3d2c1a7194994c0a16d8a313a41","modified":1459914350000},{"_id":"themes/yilia/.git/hooks/prepare-commit-msg.sample","hash":"2b6275eda365cad50d167fe3a387c9bc9fedd54f","modified":1459914350000},{"_id":"themes/yilia/.git/hooks/pre-rebase.sample","hash":"5885a56ab4fca8075a05a562d005e922cde9853b","modified":1459914350000},{"_id":"themes/yilia/.git/hooks/applypatch-msg.sample","hash":"4de88eb95a5e93fd27e78b5fb3b5231a8d8917dd","modified":1459914350000},{"_id":"themes/yilia/.git/hooks/update.sample","hash":"39355a075977d05708ef74e1b66d09a36e486df1","modified":1459914350000},{"_id":"themes/yilia/.git/logs/HEAD","hash":"31b00b0b8589c1ba2178ff92ad8e24561b0244b9","modified":1459914369000},{"_id":"themes/yilia/.git/info/exclude","hash":"c879df015d97615050afa7b9641e3352a1e701ac","modified":1459914350000},{"_id":"themes/yilia/layout/_partial/after-footer.ejs","hash":"082504c9fd8600306d4ca55f03e3cbb0ddd99dd7","modified":1459914369000},{"_id":"themes/yilia/layout/_partial/archive-post.ejs","hash":"8dfb6d68aa8a0661d26c32ce1ce1f45815364c3a","modified":1459914369000},{"_id":"themes/yilia/layout/_partial/archive.ejs","hash":"a6e94061ac55b9eb55275f87b608d62f6ea35659","modified":1459914369000},{"_id":"themes/yilia/layout/_partial/article.ejs","hash":"d6306cd897683c25184a50b29931aa1fa18d119c","modified":1459914369000},{"_id":"themes/yilia/layout/_partial/baidu_tongji.ejs","hash":"643bdb2e3e3f1a8b035674d44aa303cadc6f639a","modified":1459923293000},{"_id":"themes/yilia/layout/_partial/footer.ejs","hash":"f2994e0acd1d606ebf4680afc4fa652e148ccf4e","modified":1459943540000},{"_id":"themes/yilia/layout/_partial/google-analytics.ejs","hash":"f921e7f9223d7c95165e0f835f353b2938e40c45","modified":1459914369000},{"_id":"themes/yilia/layout/_partial/head.ejs","hash":"fae129373a150e10174d38aff05506484f54c9d2","modified":1459922552000},{"_id":"themes/yilia/layout/_partial/mathjax.ejs","hash":"54fab4d3d64cb937d6baec7324ffabf9f202b883","modified":1459914369000},{"_id":"themes/yilia/layout/_partial/left-col.ejs","hash":"ae2cc24be5ca1fddc48bc5dea3a42c15e4fd5d64","modified":1459953189000},{"_id":"themes/yilia/layout/_partial/header.ejs","hash":"6387a93dad7c3d778eb91e3821852fbf6813880c","modified":1459914369000},{"_id":"themes/yilia/layout/_partial/mobile-nav.ejs","hash":"fff29e619af2b1abcab7d5d2d6f78428272f18f7","modified":1459953003000},{"_id":"themes/yilia/source/css/_extend.styl","hash":"8ab1ad313bd6707d248c5ca1ee9a5eab8d815e42","modified":1459914369000},{"_id":"themes/yilia/source/css/_variables.styl","hash":"8b63ea3c7199524b9a1541075c6f8fb2c0d0ea3d","modified":1459914369000},{"_id":"themes/yilia/source/css/style.styl","hash":"456e8cfe3b0b0371e81848ea9b0bc7ffd5360921","modified":1459914369000},{"_id":"themes/yilia/source/css/.DS_Store","hash":"fc5a428fe40854a0ba66b4cea196c6700a57cae7","modified":1459914369000},{"_id":"themes/yilia/source/js/instagram.js","hash":"81e13cacf4947118ed1920e59b04ccf6beef6b86","modified":1459914369000},{"_id":"themes/yilia/source/js/jquery.lazyload.js","hash":"c11a2e7b330d16d06feabd0a8477099adf9d6799","modified":1459914369000},{"_id":"themes/yilia/source/js/main.js","hash":"52ec3b73bfe52b1fdc22808504ffe0b46b881ef5","modified":1459998886000},{"_id":"themes/yilia/source/js/mobile.js","hash":"b68cc01d24e80973c48205f551da87f3f3427644","modified":1459914369000},{"_id":"themes/yilia/source/js/pc.js","hash":"a5397d34a04084ee089b4b1e26457ab46ecea63e","modified":1459914369000},{"_id":"themes/yilia/source/js/photo.js","hash":"0bc0136cfd0a3fbc0454b4fa6f75806ad7d47fb3","modified":1460010548000},{"_id":"themes/yilia/source/fancybox/blank.gif","hash":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1459914369000},{"_id":"themes/yilia/source/fancybox/fancybox_loading.gif","hash":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1459914369000},{"_id":"themes/yilia/source/fancybox/fancybox_loading@2x.gif","hash":"273b123496a42ba45c3416adb027cd99745058b0","modified":1459914369000},{"_id":"themes/yilia/source/fancybox/fancybox_overlay.png","hash":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1459914369000},{"_id":"themes/yilia/source/fancybox/fancybox_sprite@2x.png","hash":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1459914369000},{"_id":"themes/yilia/source/fancybox/fancybox_sprite.png","hash":"17df19f97628e77be09c352bf27425faea248251","modified":1459914369000},{"_id":"themes/yilia/source/fancybox/jquery.fancybox.css","hash":"b6aa6692c2e5f8bd74d96827b78570f0c5683c20","modified":1459914369000},{"_id":"themes/yilia/source/fancybox/jquery.fancybox.js","hash":"a82597493d75ea989ca586e09173cff332efe41e","modified":1459914369000},{"_id":"themes/yilia/source/img/delicious.png","hash":"9553a5f5189e4a953e04a58a49dbfa74b86b73dd","modified":1459914369000},{"_id":"themes/yilia/source/fancybox/jquery.fancybox.pack.js","hash":"9e0d51ca1dbe66f6c0c7aefd552dc8122e694a6e","modified":1459914369000},{"_id":"themes/yilia/source/img/coderwall.png","hash":"fa84676c4d654e040e51fd34bfcd9f9348cd5331","modified":1459914369000},{"_id":"themes/yilia/source/img/douban.png","hash":"e2ade003ffadd5826ee66ec23901c2d6e8607e4e","modified":1459914369000},{"_id":"themes/yilia/source/img/facebook.png","hash":"d19ad7a0903daf26817afd8753cd97e0cc714f54","modified":1459914369000},{"_id":"themes/yilia/source/img/google.png","hash":"61a21fec7346fa3400b747ac9a201cf3d5bc013d","modified":1459914369000},{"_id":"themes/yilia/source/img/img-err.png","hash":"23a63ea26eb3c1d5e677d9883cf36cc1a1a1228b","modified":1459914369000},{"_id":"themes/yilia/source/img/img-loading.png","hash":"a9cd5cd11866824f31e3d1c5e23badfeb3f73031","modified":1459914369000},{"_id":"themes/yilia/source/img/github.png","hash":"b84d03b32fa388dcbf149296ebd16dce6223d48d","modified":1459914369000},{"_id":"themes/yilia/source/img/mail.png","hash":"fca8199cc77fdbd700a45bf56d091c82f4a67fe7","modified":1459914369000},{"_id":"themes/yilia/source/img/linkedin.png","hash":"e203138fb53c257cb214e97f4e30091b9c568d2c","modified":1459914369000},{"_id":"themes/yilia/source/img/pinterest.png","hash":"9c72917f8779c083157c6ce7a5d62ed4874f0630","modified":1459914369000},{"_id":"themes/yilia/source/img/pinboard.png","hash":"0891fbb6d092fa012bf936019923383d84c6aeb0","modified":1459914369000},{"_id":"themes/yilia/source/img/scrollbar_arrow.png","hash":"d64a33c4ddfbdb89deeb6f4e3d36eb84dc4777c0","modified":1459914369000},{"_id":"themes/yilia/source/img/stackoverflow.png","hash":"da5dfe9043055c95e479d49c78cd3b020de608f2","modified":1459914369000},{"_id":"themes/yilia/source/img/rss.png","hash":"430fd47340e75214c081abd05cd7410cf7c71b86","modified":1459914369000},{"_id":"themes/yilia/source/img/twitter.png","hash":"14dbb8e62d056525253bc0de13acd1723da7a934","modified":1459914369000},{"_id":"themes/yilia/source/img/weibo.png","hash":"280dae3fd38086158b4a1b57edb94c06b1a5014b","modified":1459914369000},{"_id":"themes/yilia/source/img/zhihu.png","hash":"a6d6ef65e9ac82e613a311810391ebb90d9b1c1d","modified":1459914369000},{"_id":"themes/yilia/.git/refs/heads/master","hash":"154ba3f579c6295c558c47456b8023ff4f0cc214","modified":1459914369000},{"_id":"themes/yilia/.git/objects/pack/pack-158d09bf8ab8f2a20c0e19fb0b35ba5f452bcf8a.idx","hash":"c376343e2ca8f6c408e9e645eaedc34ddfe4140a","modified":1459914369000},{"_id":"themes/yilia/layout/_partial/post/category.ejs","hash":"d4f0e36f9a2167e91082dbd7d52425a06d2bebbf","modified":1459914369000},{"_id":"themes/yilia/layout/_partial/post/date.ejs","hash":"c0c988334e857a77ba455a056dfa21809e7e76a5","modified":1459914369000},{"_id":"themes/yilia/layout/_partial/post/duoshuo.ejs","hash":"12962788be1c075e2e6745378988f484b5ff8e28","modified":1459919939000},{"_id":"themes/yilia/layout/_partial/post/nav.ejs","hash":"d19dee2082528e1844bed3aa4e4bd59f15fd7a7a","modified":1459914369000},{"_id":"themes/yilia/layout/_partial/post/share_addthis.ejs","hash":"0ac35bd92e58983c189ac0c35df404ebc6ee826e","modified":1459914369000},{"_id":"themes/yilia/layout/_partial/post/share_jia.ejs","hash":"924744aa3c1bce9056ba03cec02e19e095009126","modified":1459914369000},{"_id":"themes/yilia/layout/_partial/post/title.ejs","hash":"2f275739b6f1193c123646a5a31f37d48644c667","modified":1459914369000},{"_id":"themes/yilia/layout/_partial/post/tag.ejs","hash":"78612cfc091d7d861a70455a0dc8c3036e460879","modified":1459914369000},{"_id":"themes/yilia/source/css/_partial/article.styl","hash":"872fc4e63509fef885c939e5fd70e6ed439beced","modified":1459914369000},{"_id":"themes/yilia/source/css/_partial/archive.styl","hash":"8b349f1605024dcdae054e04f02d71a2e84957c2","modified":1459914369000},{"_id":"themes/yilia/source/css/_partial/footer.styl","hash":"7ca837a4cc34db1c35f01baec85eb10ccc64ea86","modified":1459914369000},{"_id":"themes/yilia/source/css/_partial/header.styl","hash":"67e59feb18eee6026717cb440d86ab9551782628","modified":1459914369000},{"_id":"themes/yilia/source/css/_partial/highlight.styl","hash":"08d3205dde3235f3e6881126268e6c473f46a8ac","modified":1459914369000},{"_id":"themes/yilia/source/css/_partial/instagram.styl","hash":"8a7b07bf5ea2d3588c0019f722c245bb1a8696af","modified":1459914369000},{"_id":"themes/yilia/source/css/_partial/main.styl","hash":"c368f1533053d4cffdf0ad982603271400b08e33","modified":1459914369000},{"_id":"themes/yilia/source/css/_partial/mobile-slider.styl","hash":"e19c7fae6968ad3ea6cfc110900a991f9b5fce31","modified":1459914369000},{"_id":"themes/yilia/source/css/_partial/scroll.styl","hash":"5539a38f9acd603d453a0ea0d8ce10893cf83d22","modified":1459914369000},{"_id":"themes/yilia/source/css/_partial/page.styl","hash":"720b5b169bc28ccba3794efce9b7cd39f243dec7","modified":1459914369000},{"_id":"themes/yilia/source/css/_partial/share.styl","hash":"22697b9a9877ab9f018364feb57aeea4a8313c9a","modified":1459914369000},{"_id":"themes/yilia/source/css/_partial/mobile.styl","hash":"3a03b04ef8ac305aa5dbf7b9db99cd9377d07383","modified":1459914369000},{"_id":"themes/yilia/source/css/_partial/tagcloud.styl","hash":"af0115de5c6455f899a2e09225b50224982c039d","modified":1459914369000},{"_id":"themes/yilia/source/css/_partial/wheelmenu.styl","hash":"74630c56944e27bef53ef0c0e391611a2eec2ed0","modified":1459914369000},{"_id":"themes/yilia/source/css/_util/grid.styl","hash":"1aa883ab432d9e4139c89dcbd40ae2bd1528d029","modified":1459914369000},{"_id":"themes/yilia/source/css/_util/mixin.styl","hash":"429bad87fc156eacf226c5e35b0eafc277f2504b","modified":1459914369000},{"_id":"themes/yilia/source/css/fonts/fontawesome-webfont.eot","hash":"3ce87b82c7a4ffdf65e96765c2ffda10b1a283c6","modified":1459914369000},{"_id":"themes/yilia/source/css/fonts/fontawesome-webfont.ttf","hash":"1480b8101b02da9bc4c60341b5e185e63e585064","modified":1459914369000},{"_id":"themes/yilia/source/css/fonts/fontawesome-webfont.svgz","hash":"4bfdd33ed702e32ae01399fcc2652377f78e7626","modified":1459914369000},{"_id":"themes/yilia/source/css/fonts/fontawesome-webfont.woff","hash":"cafc4ac5761a0a252d33dce4ea3952cf9a38d832","modified":1459914369000},{"_id":"themes/yilia/source/fancybox/helpers/fancybox_buttons.png","hash":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1459914369000},{"_id":"themes/yilia/source/fancybox/helpers/jquery.fancybox-buttons.css","hash":"1a9d8e5c22b371fcc69d4dbbb823d9c39f04c0c8","modified":1459914369000},{"_id":"themes/yilia/source/fancybox/helpers/jquery.fancybox-buttons.js","hash":"dc3645529a4bf72983a39fa34c1eb9146e082019","modified":1459914369000},{"_id":"themes/yilia/source/fancybox/helpers/jquery.fancybox-media.js","hash":"294420f9ff20f4e3584d212b0c262a00a96ecdb3","modified":1459914369000},{"_id":"themes/yilia/source/fancybox/helpers/jquery.fancybox-thumbs.css","hash":"4ac329c16a5277592fc12a37cca3d72ca4ec292f","modified":1459914369000},{"_id":"themes/yilia/source/fancybox/helpers/jquery.fancybox-thumbs.js","hash":"47da1ae5401c24b5c17cc18e2730780f5c1a7a0c","modified":1459914369000},{"_id":"themes/yilia/source/css/fonts/fontawesome-webfont.svg","hash":"ba13657479b46daecb6336bfe376f84cef3ae58b","modified":1459914369000},{"_id":"themes/yilia/.git/logs/refs/heads/master","hash":"31b00b0b8589c1ba2178ff92ad8e24561b0244b9","modified":1459914369000},{"_id":"themes/yilia/.git/refs/remotes/origin/HEAD","hash":"d9427cda09aba1cdde5c69c2b13c905bddb0bc51","modified":1459914369000},{"_id":"themes/yilia/.git/logs/refs/remotes/origin/HEAD","hash":"31b00b0b8589c1ba2178ff92ad8e24561b0244b9","modified":1459914369000},{"_id":"themes/yilia/.git/objects/pack/pack-158d09bf8ab8f2a20c0e19fb0b35ba5f452bcf8a.pack","hash":"3415785baf4755f578d284aada813ba154848ed7","modified":1459914369000}],"Category":[{"name":"生活","_id":"cin119mdn0005ovjr68gste9j"},{"name":"App开发","_id":"cin119mdr0008ovjrpzumchtz"}],"Data":[],"Page":[{"_content":" <!DOCTYPE HTML>\n<html>\n<head>\n  <meta http-equiv=\"content-type\" content=\"text/html;charset=utf-8;\"/>\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\" />\n  <meta name=\"robots\" content=\"all\" />\n  <meta name=\"robots\" content=\"index,follow\"/>\n</head>\n<body>\n\n<script type=\"text/javascript\" src=\"http://www.qq.com/404/search_children.js\" charset=\"utf-8\" homePageUrl=\"your site url \" homePageName=\"回到我的主页\"></script>\n\n</body>\n</html>","source":"404.html","raw":" <!DOCTYPE HTML>\n<html>\n<head>\n  <meta http-equiv=\"content-type\" content=\"text/html;charset=utf-8;\"/>\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\" />\n  <meta name=\"robots\" content=\"all\" />\n  <meta name=\"robots\" content=\"index,follow\"/>\n</head>\n<body>\n\n<script type=\"text/javascript\" src=\"http://www.qq.com/404/search_children.js\" charset=\"utf-8\" homePageUrl=\"your site url \" homePageName=\"回到我的主页\"></script>\n\n</body>\n</html>","date":"2016-04-01T01:56:21.000Z","updated":"2016-03-31T09:32:31.000Z","path":"404.html","title":"","comments":1,"layout":"page","_id":"cin119mbr0000ovjrk2tdxr2p","content":" <!DOCTYPE HTML>\n<html>\n<head>\n  <meta http-equiv=\"content-type\" content=\"text/html;charset=utf-8;\">\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\">\n  <meta name=\"robots\" content=\"all\">\n  <meta name=\"robots\" content=\"index,follow\">\n</head>\n<body>\n\n<script type=\"text/javascript\" src=\"http://www.qq.com/404/search_children.js\" charset=\"utf-8\" homepageurl=\"your site url \" homepagename=\"回到我的主页\"></script>\n\n</body>\n</html>","excerpt":"","more":" <!DOCTYPE HTML>\n<html>\n<head>\n  <meta http-equiv=\"content-type\" content=\"text/html;charset=utf-8;\"/>\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\" />\n  <meta name=\"robots\" content=\"all\" />\n  <meta name=\"robots\" content=\"index,follow\"/>\n</head>\n<body>\n\n<script type=\"text/javascript\" src=\"http://www.qq.com/404/search_children.js\" charset=\"utf-8\" homePageUrl=\"your site url \" homePageName=\"回到我的主页\"></script>\n\n</body>\n</html>"},{"title":"关于我","date":"2016-04-06T09:31:05.000Z","comments":0,"_content":"{% blockquote %}\nqq: 414616504\n邮箱：414616504@qq.com\n手机：18626388998\n{% endblockquote %}\n\n","source":"about/index.md","raw":"---\ntitle: 关于我\ndate: 2016-04-06 17:31:05\ncomments: false\n---\n{% blockquote %}\nqq: 414616504\n邮箱：414616504@qq.com\n手机：18626388998\n{% endblockquote %}\n\n","updated":"2016-04-07T02:43:30.000Z","path":"about/index.html","layout":"page","_id":"cin119mde0002ovjrx832xe14","content":"<blockquote><p>qq: 414616504<br>邮箱：414616504@qq.com<br>手机：18626388998</p>\n</blockquote>\n","excerpt":"","more":"<blockquote><p>qq: 414616504<br>邮箱：414616504@qq.com<br>手机：18626388998</p>\n</blockquote>\n"},{"title":"相册","date":"2016-04-07T02:33:01.000Z","_content":"<link type=\"text/css\" href=\"/fancybox/jquery.fancybox.css\" rel=\"stylesheet\">\n    <div class=\"instagram\"><section class=\"archives album\"><ul class=\"img-box-ul\"></ul></section></div>\n\n<script src=\"/js/photo.js\"></script>","source":"photo/index.md","raw":"---\ntitle: 相册\ndate: 2016-04-07 10:33:01\n---\n<link type=\"text/css\" href=\"/fancybox/jquery.fancybox.css\" rel=\"stylesheet\">\n    <div class=\"instagram\"><section class=\"archives album\"><ul class=\"img-box-ul\"></ul></section></div>\n\n<script src=\"/js/photo.js\"></script>","updated":"2016-04-07T03:13:49.000Z","path":"photo/index.html","comments":1,"layout":"page","_id":"cin119mef000jovjrt83ks2j7","content":"<p><link type=\"text/css\" href=\"/fancybox/jquery.fancybox.css\" rel=\"stylesheet\"><br>    <div class=\"instagram\"><section class=\"archives album\"><ul class=\"img-box-ul\"></ul></section></div></p>\n<script src=\"/js/photo.js\"></script>","excerpt":"","more":"<p><link type=\"text/css\" href=\"/fancybox/jquery.fancybox.css\" rel=\"stylesheet\"><br>    <div class=\"instagram\"><section class=\"archives album\"><ul class=\"img-box-ul\"></ul></section></div></p>\n<script src=\"/js/photo.js\"></script>"},{"_content":"[\n\t\"http://7xsp4m.com1.z0.glb.clouddn.com/photo_%E6%97%A0%E9%94%A1_1.JPG\",\n\t\"http://7xsp4m.com1.z0.glb.clouddn.com/photo_%E6%97%A0%E9%94%A1_2.JPG\",\n\t\"http://7xsp4m.com1.z0.glb.clouddn.com/photo_%E4%B8%8A%E6%B5%B7_%E5%8A%A0%E6%B2%B9%E7%AB%99.JPG\",\n\t\"http://7xsp4m.com1.z0.glb.clouddn.com/photo_%E4%B8%8A%E6%B5%B7_%E5%A4%96%E6%BB%A9.JPG\"\n]","source":"photo/output.json","raw":"[\n\t\"http://7xsp4m.com1.z0.glb.clouddn.com/photo_%E6%97%A0%E9%94%A1_1.JPG\",\n\t\"http://7xsp4m.com1.z0.glb.clouddn.com/photo_%E6%97%A0%E9%94%A1_2.JPG\",\n\t\"http://7xsp4m.com1.z0.glb.clouddn.com/photo_%E4%B8%8A%E6%B5%B7_%E5%8A%A0%E6%B2%B9%E7%AB%99.JPG\",\n\t\"http://7xsp4m.com1.z0.glb.clouddn.com/photo_%E4%B8%8A%E6%B5%B7_%E5%A4%96%E6%BB%A9.JPG\"\n]","date":"2016-04-08T07:45:23.000Z","updated":"2016-04-08T07:45:23.000Z","path":"photo/output.json","layout":"false","title":"","comments":1,"_id":"cin119meh000kovjrndesujvl","content":"[\"http://7xsp4m.com1.z0.glb.clouddn.com/photo_%E6%97%A0%E9%94%A1_1.JPG\",\"http://7xsp4m.com1.z0.glb.clouddn.com/photo_%E6%97%A0%E9%94%A1_2.JPG\",\"http://7xsp4m.com1.z0.glb.clouddn.com/photo_%E4%B8%8A%E6%B5%B7_%E5%8A%A0%E6%B2%B9%E7%AB%99.JPG\",\"http://7xsp4m.com1.z0.glb.clouddn.com/photo_%E4%B8%8A%E6%B5%B7_%E5%A4%96%E6%BB%A9.JPG\"]","excerpt":"","more":"[\"http://7xsp4m.com1.z0.glb.clouddn.com/photo_%E6%97%A0%E9%94%A1_1.JPG\",\"http://7xsp4m.com1.z0.glb.clouddn.com/photo_%E6%97%A0%E9%94%A1_2.JPG\",\"http://7xsp4m.com1.z0.glb.clouddn.com/photo_%E4%B8%8A%E6%B5%B7_%E5%8A%A0%E6%B2%B9%E7%AB%99.JPG\",\"http://7xsp4m.com1.z0.glb.clouddn.com/photo_%E4%B8%8A%E6%B5%B7_%E5%A4%96%E6%BB%A9.JPG\"]"}],"Post":[{"title":"hexo博客搭建","date":"2016-04-07T02:11:00.000Z","comments":1,"_content":"花了两天时间，终于hexo搭建好了，主要时间浪费在选择{% link theme https://hexo.io/docs/themes.html %}上，总觉得没有自己想要的。\n搭建的过程相对来说还是比较顺利的，主要参考链接如下：\n<a href=\"http://zipperary.com/categories/hexo/\" target=\"_blank\">Lippera's blog</a>\n<a href=\"http://blog.hjtxxx.com/2015/08/13/Hexo-一-：在GitHub上搭建静态博客/\" target=\"_blank\">HEYJ的技术博客</a>\n<a href=\"http://litten.github.io/2014/08/31/hexo-theme-yilia/#more\" target=\"_blank\">Litten</a>(也是使用他的主题)\n<!--more-->\n\n### 该主题遇到两个不是很重要的小问题。\n一. 该主题`点击头像`和点击主页效果一样。想把点击头像显示aboutme的页面。于是新建一个about页面，然后修改themes/yilia/layout/_partial/left-col.ejs第4行为\n{% codeblock%}\n\t<a href=\"/about/\" class=\"profilepic\">\n{% endcodeblock%}\n二. 相册功能<a href=\"https://github.com/litten/hexo-theme-yilia/wiki/同步你的instagram图片\">instagram</a>，由于instagram被禁...暂不可用，无奈得换种方法实现，找到另一种方法，\n<a href=\"http://www.cnblogs.com/xljzlw/p/5137622.html?utm_source=tuicool&utm_medium=referral\">hexo相册功能</a>，该方法需要在根目录新建个photos文件夹，将文件夹里面的图片提交的github，然后通过js将图片生产output.json文件，这样本地需要保存一份，我的电脑是128gmac，空间本身就少，所以我直接将图片提交到七牛云存储，然后把链接直接写到output.json里面，然后再修改photo.js里面的图片路径，同样能实现。\n\n三. img标签设置width和height没有效果。我图片是上传在七牛上的，所以在图片连接后面增加`?imageView2/1/w/200/h/200`，勉强可以解决图片大小问题。\n</br>\n***\n[Markdown](http://www.appinn.com/markdown/)以下是常用的字体样式：\n* 点\n**粗体**\n*斜体* \n`行内代码`\n~~删除线~~\n```python\n#三个反引号包围的是代码块。\n#会显示行号。\n``` \n***\n\n今天偶然间看到个不错的theme，<a href=\"https://github.com/iissnan/hexo-theme-next\">hexo-theme-next</a>,有时间弄弄玩。\n\n{% blockquote %}\n<strong>笑一个吧，没人会爱上你的愁眉苦脸。</strong>\n{% endblockquote %}\n<!--  \n<img src=\"http://bruce.u.qiniudn.com/2013/11/27/reading/photos-0.jpg?imageView2/1/w/200/h/200\"/>\n-->","source":"_posts/20160331-博客搭建.md","raw":"---\ntitle: hexo博客搭建\ndate: 2016-04-07 10:11:00\ncomments: true\ncategory: 生活\ntag: \n- Hexo \n---\n花了两天时间，终于hexo搭建好了，主要时间浪费在选择{% link theme https://hexo.io/docs/themes.html %}上，总觉得没有自己想要的。\n搭建的过程相对来说还是比较顺利的，主要参考链接如下：\n<a href=\"http://zipperary.com/categories/hexo/\" target=\"_blank\">Lippera's blog</a>\n<a href=\"http://blog.hjtxxx.com/2015/08/13/Hexo-一-：在GitHub上搭建静态博客/\" target=\"_blank\">HEYJ的技术博客</a>\n<a href=\"http://litten.github.io/2014/08/31/hexo-theme-yilia/#more\" target=\"_blank\">Litten</a>(也是使用他的主题)\n<!--more-->\n\n### 该主题遇到两个不是很重要的小问题。\n一. 该主题`点击头像`和点击主页效果一样。想把点击头像显示aboutme的页面。于是新建一个about页面，然后修改themes/yilia/layout/_partial/left-col.ejs第4行为\n{% codeblock%}\n\t<a href=\"/about/\" class=\"profilepic\">\n{% endcodeblock%}\n二. 相册功能<a href=\"https://github.com/litten/hexo-theme-yilia/wiki/同步你的instagram图片\">instagram</a>，由于instagram被禁...暂不可用，无奈得换种方法实现，找到另一种方法，\n<a href=\"http://www.cnblogs.com/xljzlw/p/5137622.html?utm_source=tuicool&utm_medium=referral\">hexo相册功能</a>，该方法需要在根目录新建个photos文件夹，将文件夹里面的图片提交的github，然后通过js将图片生产output.json文件，这样本地需要保存一份，我的电脑是128gmac，空间本身就少，所以我直接将图片提交到七牛云存储，然后把链接直接写到output.json里面，然后再修改photo.js里面的图片路径，同样能实现。\n\n三. img标签设置width和height没有效果。我图片是上传在七牛上的，所以在图片连接后面增加`?imageView2/1/w/200/h/200`，勉强可以解决图片大小问题。\n</br>\n***\n[Markdown](http://www.appinn.com/markdown/)以下是常用的字体样式：\n* 点\n**粗体**\n*斜体* \n`行内代码`\n~~删除线~~\n```python\n#三个反引号包围的是代码块。\n#会显示行号。\n``` \n***\n\n今天偶然间看到个不错的theme，<a href=\"https://github.com/iissnan/hexo-theme-next\">hexo-theme-next</a>,有时间弄弄玩。\n\n{% blockquote %}\n<strong>笑一个吧，没人会爱上你的愁眉苦脸。</strong>\n{% endblockquote %}\n<!--  \n<img src=\"http://bruce.u.qiniudn.com/2013/11/27/reading/photos-0.jpg?imageView2/1/w/200/h/200\"/>\n-->","slug":"博客搭建","published":1,"updated":"2016-04-08T12:31:28.000Z","layout":"post","photos":[],"link":"","_id":"cin119md70001ovjr3qiebktu","content":"<p>花了两天时间，终于hexo搭建好了，主要时间浪费在选择<a href=\"https://hexo.io/docs/themes.html\" target=\"_blank\" rel=\"external\">theme</a>上，总觉得没有自己想要的。<br>搭建的过程相对来说还是比较顺利的，主要参考链接如下：<br><a href=\"http://zipperary.com/categories/hexo/\" target=\"_blank\">Lippera’s blog</a><br><a href=\"http://blog.hjtxxx.com/2015/08/13/Hexo-一-：在GitHub上搭建静态博客/\" target=\"_blank\">HEYJ的技术博客</a><br><a href=\"http://litten.github.io/2014/08/31/hexo-theme-yilia/#more\" target=\"_blank\">Litten</a>(也是使用他的主题)<br><a id=\"more\"></a></p>\n<h3 id=\"该主题遇到两个不是很重要的小问题。\"><a href=\"#该主题遇到两个不是很重要的小问题。\" class=\"headerlink\" title=\"该主题遇到两个不是很重要的小问题。\"></a>该主题遇到两个不是很重要的小问题。</h3><p>一. 该主题<code>点击头像</code>和点击主页效果一样。想把点击头像显示aboutme的页面。于是新建一个about页面，然后修改themes/yilia/layout/_partial/left-col.ejs第4行为<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;a href=&quot;/about/&quot; class=&quot;profilepic&quot;&gt;</span><br></pre></td></tr></table></figure><br>二. 相册功能<a href=\"https://github.com/litten/hexo-theme-yilia/wiki/同步你的instagram图片\" target=\"_blank\" rel=\"external\">instagram</a>，由于instagram被禁…暂不可用，无奈得换种方法实现，找到另一种方法，<br><a href=\"http://www.cnblogs.com/xljzlw/p/5137622.html?utm_source=tuicool&utm_medium=referral\" target=\"_blank\" rel=\"external\">hexo相册功能</a>，该方法需要在根目录新建个photos文件夹，将文件夹里面的图片提交的github，然后通过js将图片生产output.json文件，这样本地需要保存一份，我的电脑是128gmac，空间本身就少，所以我直接将图片提交到七牛云存储，然后把链接直接写到output.json里面，然后再修改photo.js里面的图片路径，同样能实现。</p>\n<p>三. img标签设置width和height没有效果。我图片是上传在七牛上的，所以在图片连接后面增加<code>?imageView2/1/w/200/h/200</code>，勉强可以解决图片大小问题。<br><br></p>\n<hr>\n<p><a href=\"http://www.appinn.com/markdown/\" target=\"_blank\" rel=\"external\">Markdown</a>以下是常用的字体样式：</p>\n<ul>\n<li>点<br><strong>粗体</strong><br><em>斜体</em><br><code>行内代码</code><br><del>删除线</del><pre><code class=\"python\"><span class=\"comment\">#三个反引号包围的是代码块。</span>\n<span class=\"comment\">#会显示行号。</span>\n</code></pre>\n</li>\n</ul>\n<hr>\n<p>今天偶然间看到个不错的theme，<a href=\"https://github.com/iissnan/hexo-theme-next\" target=\"_blank\" rel=\"external\">hexo-theme-next</a>,有时间弄弄玩。</p>\n<blockquote><p><strong>笑一个吧，没人会爱上你的愁眉苦脸。</strong></p>\n</blockquote>\n<!--  \n<img src=\"http://bruce.u.qiniudn.com/2013/11/27/reading/photos-0.jpg?imageView2/1/w/200/h/200\"/>\n-->","excerpt":"<p>花了两天时间，终于hexo搭建好了，主要时间浪费在选择<a href=\"https://hexo.io/docs/themes.html\">theme</a>上，总觉得没有自己想要的。<br>搭建的过程相对来说还是比较顺利的，主要参考链接如下：<br><a href=\"http://zipperary.com/categories/hexo/\" target=\"_blank\">Lippera’s blog</a><br><a href=\"http://blog.hjtxxx.com/2015/08/13/Hexo-一-：在GitHub上搭建静态博客/\" target=\"_blank\">HEYJ的技术博客</a><br><a href=\"http://litten.github.io/2014/08/31/hexo-theme-yilia/#more\" target=\"_blank\">Litten</a>(也是使用他的主题)<br>","more":"</p>\n<h3 id=\"该主题遇到两个不是很重要的小问题。\"><a href=\"#该主题遇到两个不是很重要的小问题。\" class=\"headerlink\" title=\"该主题遇到两个不是很重要的小问题。\"></a>该主题遇到两个不是很重要的小问题。</h3><p>一. 该主题<code>点击头像</code>和点击主页效果一样。想把点击头像显示aboutme的页面。于是新建一个about页面，然后修改themes/yilia/layout/_partial/left-col.ejs第4行为<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;a href=&quot;/about/&quot; class=&quot;profilepic&quot;&gt;</span><br></pre></td></tr></table></figure><br>二. 相册功能<a href=\"https://github.com/litten/hexo-theme-yilia/wiki/同步你的instagram图片\">instagram</a>，由于instagram被禁…暂不可用，无奈得换种方法实现，找到另一种方法，<br><a href=\"http://www.cnblogs.com/xljzlw/p/5137622.html?utm_source=tuicool&utm_medium=referral\">hexo相册功能</a>，该方法需要在根目录新建个photos文件夹，将文件夹里面的图片提交的github，然后通过js将图片生产output.json文件，这样本地需要保存一份，我的电脑是128gmac，空间本身就少，所以我直接将图片提交到七牛云存储，然后把链接直接写到output.json里面，然后再修改photo.js里面的图片路径，同样能实现。</p>\n<p>三. img标签设置width和height没有效果。我图片是上传在七牛上的，所以在图片连接后面增加<code>?imageView2/1/w/200/h/200</code>，勉强可以解决图片大小问题。<br></br></p>\n<hr>\n<p><a href=\"http://www.appinn.com/markdown/\">Markdown</a>以下是常用的字体样式：</p>\n<ul>\n<li>点<br><strong>粗体</strong><br><em>斜体</em><br><code>行内代码</code><br><del>删除线</del><pre><code class=\"python\"><span class=\"comment\">#三个反引号包围的是代码块。</span>\n<span class=\"comment\">#会显示行号。</span>\n</code></pre>\n</li>\n</ul>\n<hr>\n<p>今天偶然间看到个不错的theme，<a href=\"https://github.com/iissnan/hexo-theme-next\">hexo-theme-next</a>,有时间弄弄玩。</p>\n<blockquote><p><strong>笑一个吧，没人会爱上你的愁眉苦脸。</strong></p>\n</blockquote>\n<!--  \n<img src=\"http://bruce.u.qiniudn.com/2013/11/27/reading/photos-0.jpg?imageView2/1/w/200/h/200\"/>\n-->"},{"title":"SlideMenu和UIScrollView手势冲突","date":"2016-04-08T08:53:38.000Z","_content":"定义一个子类继承UIScrollView，重写`- (BOOL)gestureRecognizerShouldBegin:(UIGestureRecognizer *)gestureRecognizer`方法，做些判断就可以达达这效果。\n目前我只做了向右滑动，菜单在左侧的冲突，右边依此类推很容易解决。以下Menu在左侧的解决方法：\n<!--more-->\n{% codeblock lang:objc %}\n- (BOOL)gestureRecognizerShouldBegin:(UIGestureRecognizer *)gestureRecognizer {\n    if (![gestureRecognizer isKindOfClass:[UIPanGestureRecognizer class]]) {\n        return YES;\n    }\n    CGPoint velocity = [(UIPanGestureRecognizer *)gestureRecognizer velocityInView:self];\n    if (velocity.x > 0.0f && self.contentOffset.x == 0 ) {\n        return NO;\n    }\n    return YES;\n}\n{% endcodeblock %}\n侧边栏我用的是APLSlideMenu。\n\n{% blockquote %}\n<strong>不闻不问不一定是忘记了，但一定是疏远了，彼此沉默太久就连主动的都需要勇气。</strong>\n{% endblockquote %}","source":"_posts/20160408-slideMenu和UIScrollView手势冲突.md","raw":"---\ntitle: SlideMenu和UIScrollView手势冲突\ndate: 2016-04-08 16:53:38\ntags: \n\t- ios\ncategories:\n\t- App开发\n---\n定义一个子类继承UIScrollView，重写`- (BOOL)gestureRecognizerShouldBegin:(UIGestureRecognizer *)gestureRecognizer`方法，做些判断就可以达达这效果。\n目前我只做了向右滑动，菜单在左侧的冲突，右边依此类推很容易解决。以下Menu在左侧的解决方法：\n<!--more-->\n{% codeblock lang:objc %}\n- (BOOL)gestureRecognizerShouldBegin:(UIGestureRecognizer *)gestureRecognizer {\n    if (![gestureRecognizer isKindOfClass:[UIPanGestureRecognizer class]]) {\n        return YES;\n    }\n    CGPoint velocity = [(UIPanGestureRecognizer *)gestureRecognizer velocityInView:self];\n    if (velocity.x > 0.0f && self.contentOffset.x == 0 ) {\n        return NO;\n    }\n    return YES;\n}\n{% endcodeblock %}\n侧边栏我用的是APLSlideMenu。\n\n{% blockquote %}\n<strong>不闻不问不一定是忘记了，但一定是疏远了，彼此沉默太久就连主动的都需要勇气。</strong>\n{% endblockquote %}","slug":"slideMenu和UIScrollView手势冲突","published":1,"updated":"2016-04-08T12:18:39.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cin119mdg0003ovjrwi241hv9","content":"<p>定义一个子类继承UIScrollView，重写<code>- (BOOL)gestureRecognizerShouldBegin:(UIGestureRecognizer *)gestureRecognizer</code>方法，做些判断就可以达达这效果。<br>目前我只做了向右滑动，菜单在左侧的冲突，右边依此类推很容易解决。以下Menu在左侧的解决方法：<br><a id=\"more\"></a><br><figure class=\"highlight objc\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">- (<span class=\"built_in\">BOOL</span>)gestureRecognizerShouldBegin:(<span class=\"built_in\">UIGestureRecognizer</span> *)gestureRecognizer &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (![gestureRecognizer isKindOfClass:[<span class=\"built_in\">UIPanGestureRecognizer</span> class]]) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">YES</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"built_in\">CGPoint</span> velocity = [(<span class=\"built_in\">UIPanGestureRecognizer</span> *)gestureRecognizer velocityInView:<span class=\"keyword\">self</span>];</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (velocity.x &gt; <span class=\"number\">0.0</span>f &amp;&amp; <span class=\"keyword\">self</span>.contentOffset.x == <span class=\"number\">0</span> ) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">NO</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">YES</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br>侧边栏我用的是APLSlideMenu。</p>\n<blockquote><p><strong>不闻不问不一定是忘记了，但一定是疏远了，彼此沉默太久就连主动的都需要勇气。</strong></p>\n</blockquote>","excerpt":"<p>定义一个子类继承UIScrollView，重写<code>- (BOOL)gestureRecognizerShouldBegin:(UIGestureRecognizer *)gestureRecognizer</code>方法，做些判断就可以达达这效果。<br>目前我只做了向右滑动，菜单在左侧的冲突，右边依此类推很容易解决。以下Menu在左侧的解决方法：<br>","more":"<br><figure class=\"highlight objc\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">- (<span class=\"built_in\">BOOL</span>)gestureRecognizerShouldBegin:(<span class=\"built_in\">UIGestureRecognizer</span> *)gestureRecognizer &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (![gestureRecognizer isKindOfClass:[<span class=\"built_in\">UIPanGestureRecognizer</span> class]]) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">YES</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"built_in\">CGPoint</span> velocity = [(<span class=\"built_in\">UIPanGestureRecognizer</span> *)gestureRecognizer velocityInView:<span class=\"keyword\">self</span>];</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (velocity.x &gt; <span class=\"number\">0.0</span>f &amp;&amp; <span class=\"keyword\">self</span>.contentOffset.x == <span class=\"number\">0</span> ) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">NO</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">YES</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br>侧边栏我用的是APLSlideMenu。</p>\n<blockquote><p><strong>不闻不问不一定是忘记了，但一定是疏远了，彼此沉默太久就连主动的都需要勇气。</strong></p>\n</blockquote>"},{"title":"ios录制小视频(仿微信/钉钉)","date":"2016-04-13T03:57:10.000Z","_content":" \n公司的App里面需要添加个发送小视频功能，需要尽快搞出来，直接让模仿微信的小视频，查资料得出：\n### 一.调用UIImagePickerController，这个相对来说比较简单，不过这个控制录制最大时长比较麻烦，代码如下：\n{% codeblock lang:objc %}\n- (IBAction)recordBegin:(id)sender {\n    UIImagePickerController *ipc = [[UIImagePickerController alloc] init];\n    ipc.sourceType = UIImagePickerControllerSourceTypeCamera;\n    ipc.cameraDevice = UIImagePickerControllerCameraDeviceRear;//设置使用哪个摄像头，这里设置为后置摄像头\n    ipc.mediaTypes = @[(NSString *)kUTTypeMovie];\n    ipc.videoQuality = UIImagePickerControllerQualityTypeIFrame1280x720;\n    ipc.cameraCaptureMode = UIImagePickerControllerCameraCaptureModeVideo;\n    ipc.delegate = self;\n    [self presentViewController:ipc animated:YES completion:nil];\n}\n{% endcodeblock %}\n<!--more-->\n{% codeblock lang:objc %}\n#pragma mrak - UIImagePickerControllerDelegate\n- (void)imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary<NSString *,id> *)info {\n    NSString *mediaType=[info objectForKey:UIImagePickerControllerMediaType];\n   if([mediaType isEqualToString:(NSString *)kUTTypeMovie]){\n        NSURL *url = [info objectForKey:UIImagePickerControllerMediaURL];\n    }\n    [self dismissViewControllerAnimated:YES completion:nil];\n}\n\n{% endcodeblock %}\n\n### 二.使用AVFoundation提供的录像，步骤大概分以下几个\n*** 1.获取摄像头授权 ***\n{% codeblock lang:objc %}\n- (void)getAuthorization {\n    switch ([AVCaptureDevice authorizationStatusForMediaType:AVMediaTypeVideo]) {\n        case AVAuthorizationStatusAuthorized: {  // 已授权，可使用\n            [self setupAVCaptureInfo];\n            break;\n        }\n        case AVAuthorizationStatusNotDetermined: { //未进行授权选择再次请求授权\n            [AVCaptureDevice requestAccessForMediaType:AVMediaTypeVideo completionHandler:^(BOOL\tgranted) {\n                if (granted) {\n                    [self setupAVCaptureInfo];\n                } else {\n                    [self showAuthorizationAlert];\n                }\n                return;\n            }];\n            break;\n        }\n        default: {  //用户拒绝授权/未授权\n            [self showAuthorizationAlert];\n            break;\n        }\n    }\n}\n// 显示没有授权的提示框\n- (void)showAuthorizationAlert {\n    UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@\"提示\" message:@\"拒绝授权,返回上一页.请检查下\\n设置-->隐私/通用等权限设置\" delegate:self cancelButtonTitle:nil otherButtonTitles:@\"确定\", nil];\n    [alert show];\n}\n{% endcodeblock %}\n\n*** 2.创建AVCaptureSession对象 ***\n{% codeblock lang:objc %}\n- (void)setupAVCaptureInfo {\n    _captureSession = [[AVCaptureSession alloc] init];\n    if ([_captureSession canSetSessionPreset:AVCaptureSessionPreset640x480]) {\n        [_captureSession setSessionPreset:AVCaptureSessionPreset640x480];\n    }\n    \n    [_captureSession beginConfiguration];\n    \n    [self addVideo];\t\t// 添加视频输入源\n    [self addAudio];\t\t// 添加音频输入源\n    [self addOutput];\n    [self addPreviewLayer];\t// 添加预览\n    \n    [_captureSession commitConfiguration];\n    [_captureSession startRunning];\n}\n{% endcodeblock %}\n\n*** 3.添加输入源 ***\n{% codeblock lang:objc %}\n- (void)addVideo {\n    // 获取后置摄像头\n    _videoDevice = [self deviceWithMediaType:AVMediaTypeVideo preferringPosition:AVCaptureDevicePositionBack];\n    // 将视频输入添加到captureSession\n    NSError *videoError;\n    _videoInput = [[AVCaptureDeviceInput alloc] initWithDevice:_videoDevice error:&videoError];\n    if (nil == videoError) {\n        if ([_captureSession canAddInput:_videoInput]) {\n            [_captureSession addInput:_videoInput];\n        }\n    }\n}\n\n- (void)addAudio {\n    NSError *audioError;\n    _audioDevice = [AVCaptureDevice defaultDeviceWithMediaType:AVMediaTypeAudio];\n    _audioInput = [[AVCaptureDeviceInput alloc] initWithDevice:_audioDevice error:&audioError];\n    if (nil == audioError) {\n        // 将音频输入对象添加到会话 (AVCaptureSession) 中\n        if ([_captureSession canAddInput:_audioInput]) {\n            [_captureSession addInput:_audioInput];\n        }\n    }\n}\n\n// 获取前/后摄像头\n- (AVCaptureDevice *)deviceWithMediaType:(NSString *)mediaType preferringPosition:(AVCaptureDevicePosition)position {\n    NSArray *devices = [AVCaptureDevice devicesWithMediaType:mediaType];\n    AVCaptureDevice *captureDevice = devices.firstObject;\n    for (AVCaptureDevice *device in devices ) {\n        if (device.position == position ) {\n            captureDevice = device;\n            break;\n        }\n    }\n    return captureDevice;\n}\n{% endcodeblock %}\n\n*** 4.添加预览 ***\n{% codeblock lang:objc %}\n- (void)addPreviewLayer {\n    _captureVideoPreviewLayer = [[AVCaptureVideoPreviewLayer alloc] initWithSession:_captureSession];\n    _captureVideoPreviewLayer.videoGravity = AVLayerVideoGravityResizeAspectFill;\n    _captureVideoPreviewLayer.connection.videoOrientation = [_movieOutput connectionWithMediaType:AVMediaTypeVideo].videoOrientation;\n    _captureVideoPreviewLayer.frame = self.view.layer.bounds;\n    [self.view.layer insertSublayer:_captureVideoPreviewLayer atIndex:0];\n}\n{% endcodeblock %}\n\n*** 5.添加输出源 ***（输出源先介绍两种种方式，一种AVCaptureMovieFileOutput直接将视频写入文件，如果不需要对视频做其他处理的话，用AVCaptureMovieFileOutput相对来容易点，代码量也会少很多。另外一种同时添加AVCaptureVideoDataOutput和AVCaptureAudioDataOutput，这个保存的时候需要用AVAssetWriterInput将音视频写入文件） \n{% codeblock lang:objc %}\n// AVCaptureMovieFileOutput\n- (void)addOutput {\n    // 将视频输出添加到captureSession\n    _movieOutput = [[AVCaptureMovieFileOutput alloc] init];\n    if ([_captureSession canAddOutput:_movieOutput]) {\n        [_captureSession addOutput:_movieOutput];\n        AVCaptureConnection *captureConnection = [_movieOutput connectionWithMediaType:AVMediaTypeVideo];\n        if ([captureConnection isVideoOrientationSupported]) {\n            [captureConnection setVideoOrientation:AVCaptureVideoOrientationPortrait];\n        }\n        // 视频稳定设置\n//        if ([captureConnection isVideoStabilizationSupported]) {\n//            captureConnection.preferredVideoStabilizationMode = AVCaptureVideoStabilizationModeAuto;\n//        }\n        captureConnection.videoScaleAndCropFactor = captureConnection.videoMaxScaleAndCropFactor;\n    }\n}\n\n---------------------------------------------分割线------------------------------------------------------\n{% endcodeblock %}\n```视频没有特殊处理的用上面那个方法就可以了，AVCaptureVideoDataOutput和AVCaptureAudioDataOutput有时间单独开一篇。```\n*** 6. 开始录像和停止录像 ***\n{% codeblock lang:objc %}\n- (void)startRecord {\n    [_movieOutput startRecordingToOutputFileURL:[self outPutFileURL] recordingDelegate:self];\n}\n\n- (void)stopRecord {\n    [_movieOutput stopRecording];\n}\n\n- (NSURL *)outPutFileURL {\n    return [NSURL fileURLWithPath:[NSString stringWithFormat:@\"%@%@\", NSTemporaryDirectory(), @\"tempOutPut.mov\"]];\n}\n{% endcodeblock %}\n\n简单的录制视频就算完成了，领导后来要求要和钉钉或者qq的小视频一样，视频可以分段删除。花了一天时间找分段删除方法也没找到合适的，后来果断每一段就是一个视频（一个视频有多个小视频组成），android和ios可以连续播放多个视频，也和一个视频差不多，不过后台不愿意这样干（不知道是不是那边没找到联系播放多个的好方法），没办法啊，后来打算用```ffmpeg```将多个视频拼接成一个视频。\n\n...\n\n* 以上代码都是参考下面连接\n<a href=\"http://www.cnblogs.com/kenshincui/p/4186022.html#uiImagePickerController\">Kenshin Cui's Blog</a>, <a href=\"https://kevinmky.github.io/2016/01/04/自定义相机/\">KevinMkY's Blog</a>","source":"_posts/20160409-ios录制视频调研.md","raw":"---\ntitle: ios录制小视频(仿微信/钉钉)\ndate: 2016-04-13 11:57:10\ntags:\n\t- ios\n\t- 录制小视频\t\ncategories:\n \t- App开发\n---\n \n公司的App里面需要添加个发送小视频功能，需要尽快搞出来，直接让模仿微信的小视频，查资料得出：\n### 一.调用UIImagePickerController，这个相对来说比较简单，不过这个控制录制最大时长比较麻烦，代码如下：\n{% codeblock lang:objc %}\n- (IBAction)recordBegin:(id)sender {\n    UIImagePickerController *ipc = [[UIImagePickerController alloc] init];\n    ipc.sourceType = UIImagePickerControllerSourceTypeCamera;\n    ipc.cameraDevice = UIImagePickerControllerCameraDeviceRear;//设置使用哪个摄像头，这里设置为后置摄像头\n    ipc.mediaTypes = @[(NSString *)kUTTypeMovie];\n    ipc.videoQuality = UIImagePickerControllerQualityTypeIFrame1280x720;\n    ipc.cameraCaptureMode = UIImagePickerControllerCameraCaptureModeVideo;\n    ipc.delegate = self;\n    [self presentViewController:ipc animated:YES completion:nil];\n}\n{% endcodeblock %}\n<!--more-->\n{% codeblock lang:objc %}\n#pragma mrak - UIImagePickerControllerDelegate\n- (void)imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary<NSString *,id> *)info {\n    NSString *mediaType=[info objectForKey:UIImagePickerControllerMediaType];\n   if([mediaType isEqualToString:(NSString *)kUTTypeMovie]){\n        NSURL *url = [info objectForKey:UIImagePickerControllerMediaURL];\n    }\n    [self dismissViewControllerAnimated:YES completion:nil];\n}\n\n{% endcodeblock %}\n\n### 二.使用AVFoundation提供的录像，步骤大概分以下几个\n*** 1.获取摄像头授权 ***\n{% codeblock lang:objc %}\n- (void)getAuthorization {\n    switch ([AVCaptureDevice authorizationStatusForMediaType:AVMediaTypeVideo]) {\n        case AVAuthorizationStatusAuthorized: {  // 已授权，可使用\n            [self setupAVCaptureInfo];\n            break;\n        }\n        case AVAuthorizationStatusNotDetermined: { //未进行授权选择再次请求授权\n            [AVCaptureDevice requestAccessForMediaType:AVMediaTypeVideo completionHandler:^(BOOL\tgranted) {\n                if (granted) {\n                    [self setupAVCaptureInfo];\n                } else {\n                    [self showAuthorizationAlert];\n                }\n                return;\n            }];\n            break;\n        }\n        default: {  //用户拒绝授权/未授权\n            [self showAuthorizationAlert];\n            break;\n        }\n    }\n}\n// 显示没有授权的提示框\n- (void)showAuthorizationAlert {\n    UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@\"提示\" message:@\"拒绝授权,返回上一页.请检查下\\n设置-->隐私/通用等权限设置\" delegate:self cancelButtonTitle:nil otherButtonTitles:@\"确定\", nil];\n    [alert show];\n}\n{% endcodeblock %}\n\n*** 2.创建AVCaptureSession对象 ***\n{% codeblock lang:objc %}\n- (void)setupAVCaptureInfo {\n    _captureSession = [[AVCaptureSession alloc] init];\n    if ([_captureSession canSetSessionPreset:AVCaptureSessionPreset640x480]) {\n        [_captureSession setSessionPreset:AVCaptureSessionPreset640x480];\n    }\n    \n    [_captureSession beginConfiguration];\n    \n    [self addVideo];\t\t// 添加视频输入源\n    [self addAudio];\t\t// 添加音频输入源\n    [self addOutput];\n    [self addPreviewLayer];\t// 添加预览\n    \n    [_captureSession commitConfiguration];\n    [_captureSession startRunning];\n}\n{% endcodeblock %}\n\n*** 3.添加输入源 ***\n{% codeblock lang:objc %}\n- (void)addVideo {\n    // 获取后置摄像头\n    _videoDevice = [self deviceWithMediaType:AVMediaTypeVideo preferringPosition:AVCaptureDevicePositionBack];\n    // 将视频输入添加到captureSession\n    NSError *videoError;\n    _videoInput = [[AVCaptureDeviceInput alloc] initWithDevice:_videoDevice error:&videoError];\n    if (nil == videoError) {\n        if ([_captureSession canAddInput:_videoInput]) {\n            [_captureSession addInput:_videoInput];\n        }\n    }\n}\n\n- (void)addAudio {\n    NSError *audioError;\n    _audioDevice = [AVCaptureDevice defaultDeviceWithMediaType:AVMediaTypeAudio];\n    _audioInput = [[AVCaptureDeviceInput alloc] initWithDevice:_audioDevice error:&audioError];\n    if (nil == audioError) {\n        // 将音频输入对象添加到会话 (AVCaptureSession) 中\n        if ([_captureSession canAddInput:_audioInput]) {\n            [_captureSession addInput:_audioInput];\n        }\n    }\n}\n\n// 获取前/后摄像头\n- (AVCaptureDevice *)deviceWithMediaType:(NSString *)mediaType preferringPosition:(AVCaptureDevicePosition)position {\n    NSArray *devices = [AVCaptureDevice devicesWithMediaType:mediaType];\n    AVCaptureDevice *captureDevice = devices.firstObject;\n    for (AVCaptureDevice *device in devices ) {\n        if (device.position == position ) {\n            captureDevice = device;\n            break;\n        }\n    }\n    return captureDevice;\n}\n{% endcodeblock %}\n\n*** 4.添加预览 ***\n{% codeblock lang:objc %}\n- (void)addPreviewLayer {\n    _captureVideoPreviewLayer = [[AVCaptureVideoPreviewLayer alloc] initWithSession:_captureSession];\n    _captureVideoPreviewLayer.videoGravity = AVLayerVideoGravityResizeAspectFill;\n    _captureVideoPreviewLayer.connection.videoOrientation = [_movieOutput connectionWithMediaType:AVMediaTypeVideo].videoOrientation;\n    _captureVideoPreviewLayer.frame = self.view.layer.bounds;\n    [self.view.layer insertSublayer:_captureVideoPreviewLayer atIndex:0];\n}\n{% endcodeblock %}\n\n*** 5.添加输出源 ***（输出源先介绍两种种方式，一种AVCaptureMovieFileOutput直接将视频写入文件，如果不需要对视频做其他处理的话，用AVCaptureMovieFileOutput相对来容易点，代码量也会少很多。另外一种同时添加AVCaptureVideoDataOutput和AVCaptureAudioDataOutput，这个保存的时候需要用AVAssetWriterInput将音视频写入文件） \n{% codeblock lang:objc %}\n// AVCaptureMovieFileOutput\n- (void)addOutput {\n    // 将视频输出添加到captureSession\n    _movieOutput = [[AVCaptureMovieFileOutput alloc] init];\n    if ([_captureSession canAddOutput:_movieOutput]) {\n        [_captureSession addOutput:_movieOutput];\n        AVCaptureConnection *captureConnection = [_movieOutput connectionWithMediaType:AVMediaTypeVideo];\n        if ([captureConnection isVideoOrientationSupported]) {\n            [captureConnection setVideoOrientation:AVCaptureVideoOrientationPortrait];\n        }\n        // 视频稳定设置\n//        if ([captureConnection isVideoStabilizationSupported]) {\n//            captureConnection.preferredVideoStabilizationMode = AVCaptureVideoStabilizationModeAuto;\n//        }\n        captureConnection.videoScaleAndCropFactor = captureConnection.videoMaxScaleAndCropFactor;\n    }\n}\n\n---------------------------------------------分割线------------------------------------------------------\n{% endcodeblock %}\n```视频没有特殊处理的用上面那个方法就可以了，AVCaptureVideoDataOutput和AVCaptureAudioDataOutput有时间单独开一篇。```\n*** 6. 开始录像和停止录像 ***\n{% codeblock lang:objc %}\n- (void)startRecord {\n    [_movieOutput startRecordingToOutputFileURL:[self outPutFileURL] recordingDelegate:self];\n}\n\n- (void)stopRecord {\n    [_movieOutput stopRecording];\n}\n\n- (NSURL *)outPutFileURL {\n    return [NSURL fileURLWithPath:[NSString stringWithFormat:@\"%@%@\", NSTemporaryDirectory(), @\"tempOutPut.mov\"]];\n}\n{% endcodeblock %}\n\n简单的录制视频就算完成了，领导后来要求要和钉钉或者qq的小视频一样，视频可以分段删除。花了一天时间找分段删除方法也没找到合适的，后来果断每一段就是一个视频（一个视频有多个小视频组成），android和ios可以连续播放多个视频，也和一个视频差不多，不过后台不愿意这样干（不知道是不是那边没找到联系播放多个的好方法），没办法啊，后来打算用```ffmpeg```将多个视频拼接成一个视频。\n\n...\n\n* 以上代码都是参考下面连接\n<a href=\"http://www.cnblogs.com/kenshincui/p/4186022.html#uiImagePickerController\">Kenshin Cui's Blog</a>, <a href=\"https://kevinmky.github.io/2016/01/04/自定义相机/\">KevinMkY's Blog</a>","slug":"ios录制视频调研","published":1,"updated":"2016-04-15T01:31:54.000Z","_id":"cin119mdo0006ovjrlq4g278k","comments":1,"layout":"post","photos":[],"link":"","content":"<p>公司的App里面需要添加个发送小视频功能，需要尽快搞出来，直接让模仿微信的小视频，查资料得出：</p>\n<h3 id=\"一-调用UIImagePickerController，这个相对来说比较简单，不过这个控制录制最大时长比较麻烦，代码如下：\"><a href=\"#一-调用UIImagePickerController，这个相对来说比较简单，不过这个控制录制最大时长比较麻烦，代码如下：\" class=\"headerlink\" title=\"一.调用UIImagePickerController，这个相对来说比较简单，不过这个控制录制最大时长比较麻烦，代码如下：\"></a>一.调用UIImagePickerController，这个相对来说比较简单，不过这个控制录制最大时长比较麻烦，代码如下：</h3><figure class=\"highlight objc\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">- (<span class=\"keyword\">IBAction</span>)recordBegin:(<span class=\"keyword\">id</span>)sender &#123;</span><br><span class=\"line\">    <span class=\"built_in\">UIImagePickerController</span> *ipc = [[<span class=\"built_in\">UIImagePickerController</span> alloc] init];</span><br><span class=\"line\">    ipc.sourceType = <span class=\"built_in\">UIImagePickerControllerSourceTypeCamera</span>;</span><br><span class=\"line\">    ipc.cameraDevice = <span class=\"built_in\">UIImagePickerControllerCameraDeviceRear</span>;<span class=\"comment\">//设置使用哪个摄像头，这里设置为后置摄像头</span></span><br><span class=\"line\">    ipc.mediaTypes = @[(<span class=\"built_in\">NSString</span> *)kUTTypeMovie];</span><br><span class=\"line\">    ipc.videoQuality = <span class=\"built_in\">UIImagePickerControllerQualityTypeIFrame1280x720</span>;</span><br><span class=\"line\">    ipc.cameraCaptureMode = <span class=\"built_in\">UIImagePickerControllerCameraCaptureModeVideo</span>;</span><br><span class=\"line\">    ipc.delegate = <span class=\"keyword\">self</span>;</span><br><span class=\"line\">    [<span class=\"keyword\">self</span> presentViewController:ipc animated:<span class=\"literal\">YES</span> completion:<span class=\"literal\">nil</span>];</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<figure class=\"highlight objc\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#pragma mrak - UIImagePickerControllerDelegate</span></span><br><span class=\"line\">- (<span class=\"keyword\">void</span>)imagePickerController:(<span class=\"built_in\">UIImagePickerController</span> *)picker didFinishPickingMediaWithInfo:(<span class=\"built_in\">NSDictionary</span>&lt;<span class=\"built_in\">NSString</span> *,<span class=\"keyword\">id</span>&gt; *)info &#123;</span><br><span class=\"line\">    <span class=\"built_in\">NSString</span> *mediaType=[info objectForKey:<span class=\"built_in\">UIImagePickerControllerMediaType</span>];</span><br><span class=\"line\">   <span class=\"keyword\">if</span>([mediaType isEqualToString:(<span class=\"built_in\">NSString</span> *)kUTTypeMovie])&#123;</span><br><span class=\"line\">        <span class=\"built_in\">NSURL</span> *url = [info objectForKey:<span class=\"built_in\">UIImagePickerControllerMediaURL</span>];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    [<span class=\"keyword\">self</span> dismissViewControllerAnimated:<span class=\"literal\">YES</span> completion:<span class=\"literal\">nil</span>];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h3 id=\"二-使用AVFoundation提供的录像，步骤大概分以下几个\"><a href=\"#二-使用AVFoundation提供的录像，步骤大概分以下几个\" class=\"headerlink\" title=\"二.使用AVFoundation提供的录像，步骤大概分以下几个\"></a>二.使用AVFoundation提供的录像，步骤大概分以下几个</h3><p><strong><em> 1.获取摄像头授权 </em></strong><br><figure class=\"highlight objc\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">- (<span class=\"keyword\">void</span>)getAuthorization &#123;</span><br><span class=\"line\">    <span class=\"keyword\">switch</span> ([<span class=\"built_in\">AVCaptureDevice</span> authorizationStatusForMediaType:<span class=\"built_in\">AVMediaTypeVideo</span>]) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> <span class=\"built_in\">AVAuthorizationStatusAuthorized</span>: &#123;  <span class=\"comment\">// 已授权，可使用</span></span><br><span class=\"line\">            [<span class=\"keyword\">self</span> setup<span class=\"built_in\">AVCaptureInfo</span>];</span><br><span class=\"line\">            <span class=\"keyword\">break</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> <span class=\"built_in\">AVAuthorizationStatusNotDetermined</span>: &#123; <span class=\"comment\">//未进行授权选择再次请求授权</span></span><br><span class=\"line\">            [<span class=\"built_in\">AVCaptureDevice</span> requestAccessForMediaType:<span class=\"built_in\">AVMediaTypeVideo</span> completionHandler:^(<span class=\"built_in\">BOOL</span>\tgranted) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (granted) &#123;</span><br><span class=\"line\">                    [<span class=\"keyword\">self</span> setup<span class=\"built_in\">AVCaptureInfo</span>];</span><br><span class=\"line\">                &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                    [<span class=\"keyword\">self</span> showAuthorizationAlert];</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                <span class=\"keyword\">return</span>;</span><br><span class=\"line\">            &#125;];</span><br><span class=\"line\">            <span class=\"keyword\">break</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">default</span>: &#123;  <span class=\"comment\">//用户拒绝授权/未授权</span></span><br><span class=\"line\">            [<span class=\"keyword\">self</span> showAuthorizationAlert];</span><br><span class=\"line\">            <span class=\"keyword\">break</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// 显示没有授权的提示框</span></span><br><span class=\"line\">- (<span class=\"keyword\">void</span>)showAuthorizationAlert &#123;</span><br><span class=\"line\">    <span class=\"built_in\">UIAlertView</span> *alert = [[<span class=\"built_in\">UIAlertView</span> alloc] initWithTitle:<span class=\"string\">@\"提示\"</span> message:<span class=\"string\">@\"拒绝授权,返回上一页.请检查下\\n设置--&gt;隐私/通用等权限设置\"</span> delegate:<span class=\"keyword\">self</span> cancelButtonTitle:<span class=\"literal\">nil</span> otherButtonTitles:<span class=\"string\">@\"确定\"</span>, <span class=\"literal\">nil</span>];</span><br><span class=\"line\">    [alert show];</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><strong><em> 2.创建AVCaptureSession对象 </em></strong><br><figure class=\"highlight objc\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">- (<span class=\"keyword\">void</span>)setup<span class=\"built_in\">AVCaptureInfo</span> &#123;</span><br><span class=\"line\">    _captureSession = [[<span class=\"built_in\">AVCaptureSession</span> alloc] init];</span><br><span class=\"line\">    <span class=\"keyword\">if</span> ([_captureSession canSetSessionPreset:<span class=\"built_in\">AVCaptureSessionPreset640x480</span>]) &#123;</span><br><span class=\"line\">        [_captureSession setSessionPreset:<span class=\"built_in\">AVCaptureSessionPreset640x480</span>];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    [_captureSession beginConfiguration];</span><br><span class=\"line\">    </span><br><span class=\"line\">    [<span class=\"keyword\">self</span> addVideo];\t\t<span class=\"comment\">// 添加视频输入源</span></span><br><span class=\"line\">    [<span class=\"keyword\">self</span> addAudio];\t\t<span class=\"comment\">// 添加音频输入源</span></span><br><span class=\"line\">    [<span class=\"keyword\">self</span> addOutput];</span><br><span class=\"line\">    [<span class=\"keyword\">self</span> addPreviewLayer];\t<span class=\"comment\">// 添加预览</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    [_captureSession commitConfiguration];</span><br><span class=\"line\">    [_captureSession startRunning];</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><strong><em> 3.添加输入源 </em></strong><br><figure class=\"highlight objc\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">- (<span class=\"keyword\">void</span>)addVideo &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 获取后置摄像头</span></span><br><span class=\"line\">    _videoDevice = [<span class=\"keyword\">self</span> deviceWithMediaType:<span class=\"built_in\">AVMediaTypeVideo</span> preferringPosition:<span class=\"built_in\">AVCaptureDevicePositionBack</span>];</span><br><span class=\"line\">    <span class=\"comment\">// 将视频输入添加到captureSession</span></span><br><span class=\"line\">    <span class=\"built_in\">NSError</span> *videoError;</span><br><span class=\"line\">    _videoInput = [[<span class=\"built_in\">AVCaptureDeviceInput</span> alloc] initWithDevice:_videoDevice error:&amp;videoError];</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"literal\">nil</span> == videoError) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> ([_captureSession canAddInput:_videoInput]) &#123;</span><br><span class=\"line\">            [_captureSession addInput:_videoInput];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">- (<span class=\"keyword\">void</span>)addAudio &#123;</span><br><span class=\"line\">    <span class=\"built_in\">NSError</span> *audioError;</span><br><span class=\"line\">    _audioDevice = [<span class=\"built_in\">AVCaptureDevice</span> defaultDeviceWithMediaType:<span class=\"built_in\">AVMediaTypeAudio</span>];</span><br><span class=\"line\">    _audioInput = [[<span class=\"built_in\">AVCaptureDeviceInput</span> alloc] initWithDevice:_audioDevice error:&amp;audioError];</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"literal\">nil</span> == audioError) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 将音频输入对象添加到会话 (AVCaptureSession) 中</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> ([_captureSession canAddInput:_audioInput]) &#123;</span><br><span class=\"line\">            [_captureSession addInput:_audioInput];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 获取前/后摄像头</span></span><br><span class=\"line\">- (<span class=\"built_in\">AVCaptureDevice</span> *)deviceWithMediaType:(<span class=\"built_in\">NSString</span> *)mediaType preferringPosition:(<span class=\"built_in\">AVCaptureDevicePosition</span>)position &#123;</span><br><span class=\"line\">    <span class=\"built_in\">NSArray</span> *devices = [<span class=\"built_in\">AVCaptureDevice</span> devicesWithMediaType:mediaType];</span><br><span class=\"line\">    <span class=\"built_in\">AVCaptureDevice</span> *captureDevice = devices.firstObject;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"built_in\">AVCaptureDevice</span> *device <span class=\"keyword\">in</span> devices ) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (device.position == position ) &#123;</span><br><span class=\"line\">            captureDevice = device;</span><br><span class=\"line\">            <span class=\"keyword\">break</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> captureDevice;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><strong><em> 4.添加预览 </em></strong><br><figure class=\"highlight objc\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">- (<span class=\"keyword\">void</span>)addPreviewLayer &#123;</span><br><span class=\"line\">    _captureVideoPreviewLayer = [[<span class=\"built_in\">AVCaptureVideoPreviewLayer</span> alloc] initWithSession:_captureSession];</span><br><span class=\"line\">    _captureVideoPreviewLayer.videoGravity = <span class=\"built_in\">AVLayerVideoGravityResizeAspectFill</span>;</span><br><span class=\"line\">    _captureVideoPreviewLayer.connection.videoOrientation = [_movieOutput connectionWithMediaType:<span class=\"built_in\">AVMediaTypeVideo</span>].videoOrientation;</span><br><span class=\"line\">    _captureVideoPreviewLayer.frame = <span class=\"keyword\">self</span>.view.layer.bounds;</span><br><span class=\"line\">    [<span class=\"keyword\">self</span>.view.layer insertSublayer:_captureVideoPreviewLayer atIndex:<span class=\"number\">0</span>];</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><strong><em> 5.添加输出源 </em></strong>（输出源先介绍两种种方式，一种AVCaptureMovieFileOutput直接将视频写入文件，如果不需要对视频做其他处理的话，用AVCaptureMovieFileOutput相对来容易点，代码量也会少很多。另外一种同时添加AVCaptureVideoDataOutput和AVCaptureAudioDataOutput，这个保存的时候需要用AVAssetWriterInput将音视频写入文件）<br><figure class=\"highlight objc\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// AVCaptureMovieFileOutput</span></span><br><span class=\"line\">- (<span class=\"keyword\">void</span>)addOutput &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 将视频输出添加到captureSession</span></span><br><span class=\"line\">    _movieOutput = [[<span class=\"built_in\">AVCaptureMovieFileOutput</span> alloc] init];</span><br><span class=\"line\">    <span class=\"keyword\">if</span> ([_captureSession canAddOutput:_movieOutput]) &#123;</span><br><span class=\"line\">        [_captureSession addOutput:_movieOutput];</span><br><span class=\"line\">        <span class=\"built_in\">AVCaptureConnection</span> *captureConnection = [_movieOutput connectionWithMediaType:<span class=\"built_in\">AVMediaTypeVideo</span>];</span><br><span class=\"line\">        <span class=\"keyword\">if</span> ([captureConnection isVideoOrientationSupported]) &#123;</span><br><span class=\"line\">            [captureConnection setVideoOrientation:<span class=\"built_in\">AVCaptureVideoOrientationPortrait</span>];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 视频稳定设置</span></span><br><span class=\"line\"><span class=\"comment\">//        if ([captureConnection isVideoStabilizationSupported]) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//            captureConnection.preferredVideoStabilizationMode = AVCaptureVideoStabilizationModeAuto;</span></span><br><span class=\"line\"><span class=\"comment\">//        &#125;</span></span><br><span class=\"line\">        captureConnection.videoScaleAndCropFactor = captureConnection.videoMaxScaleAndCropFactor;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">---------------------------------------------分割线------------------------------------------------------</span><br></pre></td></tr></table></figure><br><code>视频没有特殊处理的用上面那个方法就可以了，AVCaptureVideoDataOutput和AVCaptureAudioDataOutput有时间单独开一篇。</code><br><strong><em> 6. 开始录像和停止录像 </em></strong><br><figure class=\"highlight objc\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">- (<span class=\"keyword\">void</span>)startRecord &#123;</span><br><span class=\"line\">    [_movieOutput startRecordingToOutputFileURL:[<span class=\"keyword\">self</span> outPutFileURL] recordingDelegate:<span class=\"keyword\">self</span>];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">- (<span class=\"keyword\">void</span>)stopRecord &#123;</span><br><span class=\"line\">    [_movieOutput stopRecording];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">- (<span class=\"built_in\">NSURL</span> *)outPutFileURL &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [<span class=\"built_in\">NSURL</span> fileURLWithPath:[<span class=\"built_in\">NSString</span> stringWithFormat:<span class=\"string\">@\"%@%@\"</span>, <span class=\"built_in\">NSTemporaryDirectory</span>(), <span class=\"string\">@\"tempOutPut.mov\"</span>]];</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>简单的录制视频就算完成了，领导后来要求要和钉钉或者qq的小视频一样，视频可以分段删除。花了一天时间找分段删除方法也没找到合适的，后来果断每一段就是一个视频（一个视频有多个小视频组成），android和ios可以连续播放多个视频，也和一个视频差不多，不过后台不愿意这样干（不知道是不是那边没找到联系播放多个的好方法），没办法啊，后来打算用<code>ffmpeg</code>将多个视频拼接成一个视频。</p>\n<p>…</p>\n<ul>\n<li>以上代码都是参考下面连接<br><a href=\"http://www.cnblogs.com/kenshincui/p/4186022.html#uiImagePickerController\" target=\"_blank\" rel=\"external\">Kenshin Cui’s Blog</a>, <a href=\"https://kevinmky.github.io/2016/01/04/自定义相机/\" target=\"_blank\" rel=\"external\">KevinMkY’s Blog</a></li>\n</ul>\n","excerpt":"<p>公司的App里面需要添加个发送小视频功能，需要尽快搞出来，直接让模仿微信的小视频，查资料得出：</p>\n<h3 id=\"一-调用UIImagePickerController，这个相对来说比较简单，不过这个控制录制最大时长比较麻烦，代码如下：\"><a href=\"#一-调用UIImagePickerController，这个相对来说比较简单，不过这个控制录制最大时长比较麻烦，代码如下：\" class=\"headerlink\" title=\"一.调用UIImagePickerController，这个相对来说比较简单，不过这个控制录制最大时长比较麻烦，代码如下：\"></a>一.调用UIImagePickerController，这个相对来说比较简单，不过这个控制录制最大时长比较麻烦，代码如下：</h3><figure class=\"highlight objc\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">- (<span class=\"keyword\">IBAction</span>)recordBegin:(<span class=\"keyword\">id</span>)sender &#123;</span><br><span class=\"line\">    <span class=\"built_in\">UIImagePickerController</span> *ipc = [[<span class=\"built_in\">UIImagePickerController</span> alloc] init];</span><br><span class=\"line\">    ipc.sourceType = <span class=\"built_in\">UIImagePickerControllerSourceTypeCamera</span>;</span><br><span class=\"line\">    ipc.cameraDevice = <span class=\"built_in\">UIImagePickerControllerCameraDeviceRear</span>;<span class=\"comment\">//设置使用哪个摄像头，这里设置为后置摄像头</span></span><br><span class=\"line\">    ipc.mediaTypes = @[(<span class=\"built_in\">NSString</span> *)kUTTypeMovie];</span><br><span class=\"line\">    ipc.videoQuality = <span class=\"built_in\">UIImagePickerControllerQualityTypeIFrame1280x720</span>;</span><br><span class=\"line\">    ipc.cameraCaptureMode = <span class=\"built_in\">UIImagePickerControllerCameraCaptureModeVideo</span>;</span><br><span class=\"line\">    ipc.delegate = <span class=\"keyword\">self</span>;</span><br><span class=\"line\">    [<span class=\"keyword\">self</span> presentViewController:ipc animated:<span class=\"literal\">YES</span> completion:<span class=\"literal\">nil</span>];</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>","more":"<figure class=\"highlight objc\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#pragma mrak - UIImagePickerControllerDelegate</span></span><br><span class=\"line\">- (<span class=\"keyword\">void</span>)imagePickerController:(<span class=\"built_in\">UIImagePickerController</span> *)picker didFinishPickingMediaWithInfo:(<span class=\"built_in\">NSDictionary</span>&lt;<span class=\"built_in\">NSString</span> *,<span class=\"keyword\">id</span>&gt; *)info &#123;</span><br><span class=\"line\">    <span class=\"built_in\">NSString</span> *mediaType=[info objectForKey:<span class=\"built_in\">UIImagePickerControllerMediaType</span>];</span><br><span class=\"line\">   <span class=\"keyword\">if</span>([mediaType isEqualToString:(<span class=\"built_in\">NSString</span> *)kUTTypeMovie])&#123;</span><br><span class=\"line\">        <span class=\"built_in\">NSURL</span> *url = [info objectForKey:<span class=\"built_in\">UIImagePickerControllerMediaURL</span>];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    [<span class=\"keyword\">self</span> dismissViewControllerAnimated:<span class=\"literal\">YES</span> completion:<span class=\"literal\">nil</span>];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h3 id=\"二-使用AVFoundation提供的录像，步骤大概分以下几个\"><a href=\"#二-使用AVFoundation提供的录像，步骤大概分以下几个\" class=\"headerlink\" title=\"二.使用AVFoundation提供的录像，步骤大概分以下几个\"></a>二.使用AVFoundation提供的录像，步骤大概分以下几个</h3><p><strong><em> 1.获取摄像头授权 </em></strong><br><figure class=\"highlight objc\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">- (<span class=\"keyword\">void</span>)getAuthorization &#123;</span><br><span class=\"line\">    <span class=\"keyword\">switch</span> ([<span class=\"built_in\">AVCaptureDevice</span> authorizationStatusForMediaType:<span class=\"built_in\">AVMediaTypeVideo</span>]) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> <span class=\"built_in\">AVAuthorizationStatusAuthorized</span>: &#123;  <span class=\"comment\">// 已授权，可使用</span></span><br><span class=\"line\">            [<span class=\"keyword\">self</span> setup<span class=\"built_in\">AVCaptureInfo</span>];</span><br><span class=\"line\">            <span class=\"keyword\">break</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> <span class=\"built_in\">AVAuthorizationStatusNotDetermined</span>: &#123; <span class=\"comment\">//未进行授权选择再次请求授权</span></span><br><span class=\"line\">            [<span class=\"built_in\">AVCaptureDevice</span> requestAccessForMediaType:<span class=\"built_in\">AVMediaTypeVideo</span> completionHandler:^(<span class=\"built_in\">BOOL</span>\tgranted) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (granted) &#123;</span><br><span class=\"line\">                    [<span class=\"keyword\">self</span> setup<span class=\"built_in\">AVCaptureInfo</span>];</span><br><span class=\"line\">                &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                    [<span class=\"keyword\">self</span> showAuthorizationAlert];</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                <span class=\"keyword\">return</span>;</span><br><span class=\"line\">            &#125;];</span><br><span class=\"line\">            <span class=\"keyword\">break</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">default</span>: &#123;  <span class=\"comment\">//用户拒绝授权/未授权</span></span><br><span class=\"line\">            [<span class=\"keyword\">self</span> showAuthorizationAlert];</span><br><span class=\"line\">            <span class=\"keyword\">break</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// 显示没有授权的提示框</span></span><br><span class=\"line\">- (<span class=\"keyword\">void</span>)showAuthorizationAlert &#123;</span><br><span class=\"line\">    <span class=\"built_in\">UIAlertView</span> *alert = [[<span class=\"built_in\">UIAlertView</span> alloc] initWithTitle:<span class=\"string\">@\"提示\"</span> message:<span class=\"string\">@\"拒绝授权,返回上一页.请检查下\\n设置--&gt;隐私/通用等权限设置\"</span> delegate:<span class=\"keyword\">self</span> cancelButtonTitle:<span class=\"literal\">nil</span> otherButtonTitles:<span class=\"string\">@\"确定\"</span>, <span class=\"literal\">nil</span>];</span><br><span class=\"line\">    [alert show];</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><strong><em> 2.创建AVCaptureSession对象 </em></strong><br><figure class=\"highlight objc\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">- (<span class=\"keyword\">void</span>)setup<span class=\"built_in\">AVCaptureInfo</span> &#123;</span><br><span class=\"line\">    _captureSession = [[<span class=\"built_in\">AVCaptureSession</span> alloc] init];</span><br><span class=\"line\">    <span class=\"keyword\">if</span> ([_captureSession canSetSessionPreset:<span class=\"built_in\">AVCaptureSessionPreset640x480</span>]) &#123;</span><br><span class=\"line\">        [_captureSession setSessionPreset:<span class=\"built_in\">AVCaptureSessionPreset640x480</span>];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    [_captureSession beginConfiguration];</span><br><span class=\"line\">    </span><br><span class=\"line\">    [<span class=\"keyword\">self</span> addVideo];\t\t<span class=\"comment\">// 添加视频输入源</span></span><br><span class=\"line\">    [<span class=\"keyword\">self</span> addAudio];\t\t<span class=\"comment\">// 添加音频输入源</span></span><br><span class=\"line\">    [<span class=\"keyword\">self</span> addOutput];</span><br><span class=\"line\">    [<span class=\"keyword\">self</span> addPreviewLayer];\t<span class=\"comment\">// 添加预览</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    [_captureSession commitConfiguration];</span><br><span class=\"line\">    [_captureSession startRunning];</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><strong><em> 3.添加输入源 </em></strong><br><figure class=\"highlight objc\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">- (<span class=\"keyword\">void</span>)addVideo &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 获取后置摄像头</span></span><br><span class=\"line\">    _videoDevice = [<span class=\"keyword\">self</span> deviceWithMediaType:<span class=\"built_in\">AVMediaTypeVideo</span> preferringPosition:<span class=\"built_in\">AVCaptureDevicePositionBack</span>];</span><br><span class=\"line\">    <span class=\"comment\">// 将视频输入添加到captureSession</span></span><br><span class=\"line\">    <span class=\"built_in\">NSError</span> *videoError;</span><br><span class=\"line\">    _videoInput = [[<span class=\"built_in\">AVCaptureDeviceInput</span> alloc] initWithDevice:_videoDevice error:&amp;videoError];</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"literal\">nil</span> == videoError) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> ([_captureSession canAddInput:_videoInput]) &#123;</span><br><span class=\"line\">            [_captureSession addInput:_videoInput];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">- (<span class=\"keyword\">void</span>)addAudio &#123;</span><br><span class=\"line\">    <span class=\"built_in\">NSError</span> *audioError;</span><br><span class=\"line\">    _audioDevice = [<span class=\"built_in\">AVCaptureDevice</span> defaultDeviceWithMediaType:<span class=\"built_in\">AVMediaTypeAudio</span>];</span><br><span class=\"line\">    _audioInput = [[<span class=\"built_in\">AVCaptureDeviceInput</span> alloc] initWithDevice:_audioDevice error:&amp;audioError];</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"literal\">nil</span> == audioError) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 将音频输入对象添加到会话 (AVCaptureSession) 中</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> ([_captureSession canAddInput:_audioInput]) &#123;</span><br><span class=\"line\">            [_captureSession addInput:_audioInput];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 获取前/后摄像头</span></span><br><span class=\"line\">- (<span class=\"built_in\">AVCaptureDevice</span> *)deviceWithMediaType:(<span class=\"built_in\">NSString</span> *)mediaType preferringPosition:(<span class=\"built_in\">AVCaptureDevicePosition</span>)position &#123;</span><br><span class=\"line\">    <span class=\"built_in\">NSArray</span> *devices = [<span class=\"built_in\">AVCaptureDevice</span> devicesWithMediaType:mediaType];</span><br><span class=\"line\">    <span class=\"built_in\">AVCaptureDevice</span> *captureDevice = devices.firstObject;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"built_in\">AVCaptureDevice</span> *device <span class=\"keyword\">in</span> devices ) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (device.position == position ) &#123;</span><br><span class=\"line\">            captureDevice = device;</span><br><span class=\"line\">            <span class=\"keyword\">break</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> captureDevice;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><strong><em> 4.添加预览 </em></strong><br><figure class=\"highlight objc\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">- (<span class=\"keyword\">void</span>)addPreviewLayer &#123;</span><br><span class=\"line\">    _captureVideoPreviewLayer = [[<span class=\"built_in\">AVCaptureVideoPreviewLayer</span> alloc] initWithSession:_captureSession];</span><br><span class=\"line\">    _captureVideoPreviewLayer.videoGravity = <span class=\"built_in\">AVLayerVideoGravityResizeAspectFill</span>;</span><br><span class=\"line\">    _captureVideoPreviewLayer.connection.videoOrientation = [_movieOutput connectionWithMediaType:<span class=\"built_in\">AVMediaTypeVideo</span>].videoOrientation;</span><br><span class=\"line\">    _captureVideoPreviewLayer.frame = <span class=\"keyword\">self</span>.view.layer.bounds;</span><br><span class=\"line\">    [<span class=\"keyword\">self</span>.view.layer insertSublayer:_captureVideoPreviewLayer atIndex:<span class=\"number\">0</span>];</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><strong><em> 5.添加输出源 </em></strong>（输出源先介绍两种种方式，一种AVCaptureMovieFileOutput直接将视频写入文件，如果不需要对视频做其他处理的话，用AVCaptureMovieFileOutput相对来容易点，代码量也会少很多。另外一种同时添加AVCaptureVideoDataOutput和AVCaptureAudioDataOutput，这个保存的时候需要用AVAssetWriterInput将音视频写入文件）<br><figure class=\"highlight objc\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// AVCaptureMovieFileOutput</span></span><br><span class=\"line\">- (<span class=\"keyword\">void</span>)addOutput &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 将视频输出添加到captureSession</span></span><br><span class=\"line\">    _movieOutput = [[<span class=\"built_in\">AVCaptureMovieFileOutput</span> alloc] init];</span><br><span class=\"line\">    <span class=\"keyword\">if</span> ([_captureSession canAddOutput:_movieOutput]) &#123;</span><br><span class=\"line\">        [_captureSession addOutput:_movieOutput];</span><br><span class=\"line\">        <span class=\"built_in\">AVCaptureConnection</span> *captureConnection = [_movieOutput connectionWithMediaType:<span class=\"built_in\">AVMediaTypeVideo</span>];</span><br><span class=\"line\">        <span class=\"keyword\">if</span> ([captureConnection isVideoOrientationSupported]) &#123;</span><br><span class=\"line\">            [captureConnection setVideoOrientation:<span class=\"built_in\">AVCaptureVideoOrientationPortrait</span>];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 视频稳定设置</span></span><br><span class=\"line\"><span class=\"comment\">//        if ([captureConnection isVideoStabilizationSupported]) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//            captureConnection.preferredVideoStabilizationMode = AVCaptureVideoStabilizationModeAuto;</span></span><br><span class=\"line\"><span class=\"comment\">//        &#125;</span></span><br><span class=\"line\">        captureConnection.videoScaleAndCropFactor = captureConnection.videoMaxScaleAndCropFactor;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">---------------------------------------------分割线------------------------------------------------------</span><br></pre></td></tr></table></figure><br><code>视频没有特殊处理的用上面那个方法就可以了，AVCaptureVideoDataOutput和AVCaptureAudioDataOutput有时间单独开一篇。</code><br><strong><em> 6. 开始录像和停止录像 </em></strong><br><figure class=\"highlight objc\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">- (<span class=\"keyword\">void</span>)startRecord &#123;</span><br><span class=\"line\">    [_movieOutput startRecordingToOutputFileURL:[<span class=\"keyword\">self</span> outPutFileURL] recordingDelegate:<span class=\"keyword\">self</span>];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">- (<span class=\"keyword\">void</span>)stopRecord &#123;</span><br><span class=\"line\">    [_movieOutput stopRecording];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">- (<span class=\"built_in\">NSURL</span> *)outPutFileURL &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [<span class=\"built_in\">NSURL</span> fileURLWithPath:[<span class=\"built_in\">NSString</span> stringWithFormat:<span class=\"string\">@\"%@%@\"</span>, <span class=\"built_in\">NSTemporaryDirectory</span>(), <span class=\"string\">@\"tempOutPut.mov\"</span>]];</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>简单的录制视频就算完成了，领导后来要求要和钉钉或者qq的小视频一样，视频可以分段删除。花了一天时间找分段删除方法也没找到合适的，后来果断每一段就是一个视频（一个视频有多个小视频组成），android和ios可以连续播放多个视频，也和一个视频差不多，不过后台不愿意这样干（不知道是不是那边没找到联系播放多个的好方法），没办法啊，后来打算用<code>ffmpeg</code>将多个视频拼接成一个视频。</p>\n<p>…</p>\n<ul>\n<li>以上代码都是参考下面连接<br><a href=\"http://www.cnblogs.com/kenshincui/p/4186022.html#uiImagePickerController\">Kenshin Cui’s Blog</a>, <a href=\"https://kevinmky.github.io/2016/01/04/自定义相机/\">KevinMkY’s Blog</a></li>\n</ul>"}],"PostAsset":[],"PostCategory":[{"post_id":"cin119md70001ovjr3qiebktu","category_id":"cin119mdn0005ovjr68gste9j","_id":"cin119mds000aovjrsm4havbe"},{"post_id":"cin119mdg0003ovjrwi241hv9","category_id":"cin119mdr0008ovjrpzumchtz","_id":"cin119mdu000eovjrgvl0trgw"},{"post_id":"cin119mdo0006ovjrlq4g278k","category_id":"cin119mdr0008ovjrpzumchtz","_id":"cin119mdv000govjr6i6m55s8"}],"PostTag":[{"post_id":"cin119md70001ovjr3qiebktu","tag_id":"cin119mdk0004ovjrnwwkwr9t","_id":"cin119mdr0009ovjr9ezjuwc5"},{"post_id":"cin119mdg0003ovjrwi241hv9","tag_id":"cin119mdq0007ovjra3nj4h54","_id":"cin119mdu000dovjrcd50lfj4"},{"post_id":"cin119mdo0006ovjrlq4g278k","tag_id":"cin119mdq0007ovjra3nj4h54","_id":"cin119mdv000hovjrhlw2lu71"},{"post_id":"cin119mdo0006ovjrlq4g278k","tag_id":"cin119mdu000fovjr6ql0ssnz","_id":"cin119mdv000iovjrn7u17uys"}],"Tag":[{"name":"Hexo","_id":"cin119mdk0004ovjrnwwkwr9t"},{"name":"ios","_id":"cin119mdq0007ovjra3nj4h54"},{"name":"录制小视频","_id":"cin119mdu000fovjr6ql0ssnz"}]}}