---
title: ios录制小视频(仿微信/钉钉)
date: 2016-04-13 11:57:10
tags:
	- ios
	- 录制小视频	
categories:
 	- App开发
---
 
公司的App里面需要添加个发送小视频功能，需要尽快搞出来，直接让模仿微信的小视频，查资料得出：
1.调用UIImagePickerController，这个相对来说比较简单，不过这个控制录制最大时长比较麻烦，代码如下：
{% codeblock lang:objc %}
- (IBAction)recordBegin:(id)sender {
    UIImagePickerController *ipc = [[UIImagePickerController alloc] init];
    ipc.sourceType = UIImagePickerControllerSourceTypeCamera;
    ipc.cameraDevice = UIImagePickerControllerCameraDeviceRear;//设置使用哪个摄像头，这里设置为后置摄像头
    ipc.mediaTypes = @[(NSString *)kUTTypeMovie];
    ipc.videoQuality = UIImagePickerControllerQualityTypeIFrame1280x720;
    ipc.cameraCaptureMode = UIImagePickerControllerCameraCaptureModeVideo;
    ipc.delegate = self;
    [self presentViewController:ipc animated:YES completion:nil];
}
#pragma mrak - UIImagePickerControllerDelegate
- (void)imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary<NSString *,id> *)info {
    NSString *mediaType=[info objectForKey:UIImagePickerControllerMediaType];
   if([mediaType isEqualToString:(NSString *)kUTTypeMovie]){
        NSURL *url = [info objectForKey:UIImagePickerControllerMediaURL];
    }
    [self dismissViewControllerAnimated:YES completion:nil];
}

{% endcodeblock %}
<!--more-->

2.AVFoundation

* 友情连接
<a href="http://www.cnblogs.com/kenshincui/p/4186022.html#uiImagePickerController">Kenshin Cui's Blog</a>, <a href="https://kevinmky.github.io/2016/01/04/自定义相机/">KevinMkY's Blog</a>